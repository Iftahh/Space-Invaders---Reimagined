(function(){function sb(){if(0!=gb.length){var a=gb.shift(),b=a[1];F.getElementById("text").textContent=a[0];hb+=b;F.getElementById("pbar-in").style.width=2*hb+"px";a[2]();setTimeout(sb,0)}}function tb(a){var b=O(3.5,(a-Pa)/32);Pa=a;a=(Aa/3|0)%Ba;var c=G[32]||G[87]||G[69]?1.65:.6;d.R=d.d>na/2||d.d<-na/2;if(G[37]||G[65]||G[83])d.b.x=aa(-10,d.b.x-c),d.F&&(d.R=!0);else if(G[39]||G[68]||G[70])d.b.x=O(10,d.b.x+c),d.F&&(d.R=!1);!d.F&&d.ca&&(d.b.x+=ub(1.5,d.b.x,.02));ba.j=!d.Q&&(G[32]||G[87]||G[69]);c=d.a.y<
z;d.b.scale(c?.99:.76);d.b.y=P(-10,20,d.b.y+(ba.j?-.25:d.F?.8:.5));var f=d.b;d.a.add(t(f.x*b,f.y*b));d.d=Math.atan2(K+vb-d.a.y+.72*q,Q+wb-d.a.x);var f=Math.cos(d.d)*e*25,m=B(d.d)*e*25;d.S=(d.S+m)/2;d.M=(d.M+f)/2;d.a.y>z&&(c&&(v[v.length*(1-(g/2-d.M)/g)|0].i=22*d.b.y,R.j=!0,R.position.x=d.a.x,R.position.y=d.a.y+q-8,R.speed=.75*d.b.y,R.n=20*x(d.b.y)),d.a.y>z+.5*r&&(d.a.y=0));d.a.x>ia+g&&(d.a.x=-g);d.a.x<-g&&(d.a.x=ia+g);a:{var c=oa(d.a.x/e|0,(d.a.y-.4*q)/e|0),U=m=f=!1,h=0,s=0;d.ca=c==S||c==pa||1==c;
0<d.b.x&&(h=q/4,s=-d.a.x%e);0>d.b.x&&(h=q/-4,s=-d.a.x%e+e);qa(d.a.x+h,d.a.y-.8*q)&&(m=!0,qa(d.a.x+h,d.a.y-.6*q)&&(f=!0));qa(d.a.x+h,d.a.y+2*e)&&(U=!0,qa(d.a.x+h,d.a.y)&&(f=!0));if(U||m)if(f&&(d.b.x*=-.3,d.a.x+=s),.2>x(d.b.y)?d.b.y=0:d.b.y*=0<d.b.y&&U||0>d.b.y&&m?-.3:.3,m&&(d.a.y+=e-d.a.y%e,f||(d.a.y+=e),d.b.x*=.2),U){d.a.y-=d.a.y%e;f&&(d.a.y-=e);d.F=!0;xb=0;break a}6<xb++&&(d.F=!1)}d.F?.3>x(d.b.x)?d.b.x=0:d.b.x*=.8:d.a.y<-20*e&&(d.Q=20);0<d.Q&&d.Q--;Ca&&4>d.p?(Qa.d=360*d.d/w,Qa.e(d.a.x,d.a.y-.72*
q),d.p++,4<=d.p&&(d.p+=5)):4<=d.p&&(d.p--,4>d.p&&(d.p=0));c=d.a.y<Wb;K=d.a.y-r/2+d.S|0;Q=d.a.x-g/2+d.M|0;u.setTransform(1,0,0,1,-Q,-K);y.setTransform(1,0,0,1,-Q,-K);c&&(Ra.setTransform(1,0,0,1,-Q,-K),ib.position.x=d.a.x-30*e);ba.position.x=d.a.x-(d.R?-5:5);ba.position.y=d.a.y-15;Xb(b);Qa.update(b);updateAliens(b);ba.update(b);Sa.update(b);R.update(b);L.update(b);c&&(ib.update(b),fa.update(b));y.clearRect(Q,K,g,r);Ra.clearRect(Q,K,g,r);u.clearRect(Q,K,g,r);u.save();u.globalCompositeOperation="lighter";
ba.B(u);u.restore();Sa.B(u);u.beginPath();Qa.B(u);u.strokeStyle="rgba(250, 60, 60, .4)";u.lineWidth=7;u.stroke();u.lineWidth=2;u.strokeStyle="rgba(255,190,190,.9)";u.stroke();L.B(u);renderAliens(u);c&&(ib.B(Ra),fa.B(Ra));Ta&&(c=d.a,f=d.d,m=Ta,u.save(),u.translate(c.x-q/2,c.y-q),d.R&&(u.translate(q,0),u.scale(-1,1),f=na-f),u.drawImage(m,0,0,q,q,0,0,q,q),u.translate(q/3+q/9,q/3),u.rotate(f),u.drawImage(m,q,0,q,q,-q/3,-q/3,q,q),u.restore());y.save();R.B(y);y.restore();d.a.y>z-r&&(yb!=a&&(y.fillStyle=
Da[a],yb=a),Yb());z-=.01*b;z<Ea-1E3&&(z=Ea-10);ja.save();b=-.3*Q;a=P(-1,0,-1.1*K/Ea)*r;ja.translate(b,a);ja.fillRect(-b,-a,g,r);ja.restore();1E7>T&&(Fa[ka].clearRect(T-ra,V-sa,la-T-3,ma-V-3),ta(Fa[ka],T,V,T-ra-1,V-sa-1,la-T+1,ma-V+1),T=V=1E7,la=ma=-1E7);var m=d.a.x+d.M,n=d.a.y+d.S,m=m-W/2,n=n-X/2,U=Fa[ka],b=m-ra;a=n-sa;c=x(b);f=x(a);if(c||f){if(c>W||f>X)ra=m,sa=n,ta(U,m,n,0,0,W,X);else if(200<c||200<f){ra=m;sa=n;var E,M,k,jb,U=0;0>b?(E=c,M=0):(E=0,M=c);0>a?(k=f,jb=0):(jb=f,k=0);var p=W-c,l=X-f,h=
1-ka,s=Fa[h];s.clearRect(0,0,W,X);s.drawImage(kb[ka],M,jb,p,l,E,k,p,l);0>a?(ta(s,m,n,0,0,W,f),U=f,n+=f):ta(s,m,n+X-f,0,X-f,W,f);0>b?ta(s,m,n,0,U,c,X-f):(m+=W-c,ta(s,m,n,W-c,U,c,X-f));ka=h;b=a=0}H.clearRect(0,0,g,r);H.drawImage(kb[ka],200+b,200+a,g,r,0,0,g,r)}Ua(tb);Aa++;H.fillText("Wind: 1.5",g/2,50);d.Q&&H.fillText("Engine FROZEN!",g/2,r/2-100)}function zb(a){var b=a.position.x;L.e(b,a.position.y);if(a=v[v.length*(1-(b-Q)/g)|0+(p(-1,2)|0)])a.i+=1}function ub(a,b,c){a-=b;return P(-10,10,x(a)*a*c)}
function Va(){return 1.5}function Ab(){return d.ca?1.5:0}function Zb(a){return Wa(g,r,function(b){var c=new Int8Array(g*r),f=new Int8Array(g*r),m=0;ga(g,r,function(b,h){c[m]=ua(5*(b-g/2)/(3*h/r+.6)+5*B(a+w*(b+2*h)/g)+3*B(a+2*w*(b+h)/g));f[m]=ua(5*(2*h/r+.6)*B(a+4*w*(b+h/2)/g)*B(a+3.5*w*(b+h)/g));m++});$b(c,f,Y,b,g,r)})}function ca(){if(Da.length<Ba){if(!Y){Y=[];for(var a=0,b=0;b<r;b++)for(var c=p(5,25)|0,f=p(10,35)|0,m=p(20,40)|0,d=0;d<g;d++){var h=p(25,50)|0,s=p(30,65)|0,n=p(70,120)|0;Y[a++]=20+
(h+c>>1)+ua(5*B(b*w/10));Y[a++]=25+(s+f>>1)+ua(5*B(b*w/12));Y[a++]=30+(n+m>>1)+ua(8*B(b*w/13));Y[a++]=255;c=h;f=s;m=n}a=[];Bb({data:Y,width:g,height:r},a,[.1,.1,.1,.1,.2,.1,.1,.1,.1]);Y=a}Da.push(y.createPattern(Zb(Da.length*w/Ba),"repeat"))}}function Yb(){if(!(K+2*r<z)){y.translate(Q,0);y.beginPath();y.moveTo(g,K+r);y.lineTo(0,K+r);var a=0;I(v,function(b){y.lineTo(a,b.height+3*B((a-5.25*Aa)/322*w+4*B((a-3*Aa)/511*w)+4*B((a-1.5*Aa)/733*w)));a+=Cb});y.closePath();y.fill();y.stroke()}}function Xb(a){var b=
0;I(v,function(c){c.i+=a*(-.04*(c.height-z)-.025*c.i);c.height+=c.i*a;b=aa(b,x(c.i))});if(1<b){var c=[],f=[];A(Db,function(){for(var a=0;a<v.length;a++)0<a&&(c[a]=.25*(v[a].height-v[a-1].height),v[a-1].i+=c[a]),a<v.length-1&&(f[a]=.25*(v[a].height-v[a+1].height),v[a+1].i+=f[a]);for(a=0;a<v.length;a++)0<a&&(v[a-1].height+=c[a]),a<v.length-1&&(v[a+1].height+=f[a])})}}function qa(a,b){return Ga[oa(a/e|0,b/e|0)]}function Eb(a,b){var c=Fb[oa(a,b)];return void 0===c?Xa:c}function oa(a,b){return 0>b?S:0>
a?b>=1E3-.4*a?Ya:S:2048<=a?b>=1E3+.4*(a-2048)?Ya:S:1E3<=b?Ya:va[2048*b+a]}function lb(a,b,c){for(var f=c*c,m={},d=0;d<c;d++){var h=mb(f-d*d),s=b+h-O(.4*h,4*e);Gb(a+d,a-d,b-h,s,Za,m);Gb(a+d,a-d,s,b+h,Xa,m)}c+=2*e;T=O(T,a-c);V=O(V,b-c);la=aa(la,a+c);ma=aa(ma,b+c)}function Gb(a,b,c,f,m,d){for(;c<f;c+=e)for(var h=2048*(c/e|0),h=[h+(a/e|0),h+(b/e|0)],s=0;2>s;s++){var n=h[s];if(!d[n]){d[n]=1;var E=va[n];E!=Ya&&E!=S&&E!=m&&(m==Xa&&E!=nb&&(m=Za),m==Za&&E!=nb&&E!=Za&&E!=Xa&&(m=S),va[n]=m)}}}function $a(a,
b,c){va[2048*b+a]=c;a*=e;b*=e;c=2*e;T=O(T,a-c);V=O(V,b-c);la=aa(la,a+c);ma=aa(ma,b+c)}function ta(a,b,c,f,m,d,h){var s=d/e|0,n=h/e|0,E=b/e|0;b=c/e|0;var M=ra;c=sa;a.save();a.translate(-M,-c);a.rect(M+f,c+m,d,h);a.clip();f-=e;f-=f%e;m-=e;m-=m%e;for(var s=s+4,n=n+2,M=M+f,k=c+m,g=b;g<b+n;g++){var q=Eb(E,g),p=0;A(s,function(b){var c=Eb(E+b,g);if(c!=q||b>=s-1){if(q){a.fillStyle=q;a.beginPath();a.moveTo(M+p*e+da[x(11*p+3*g)%80],k+da[x(9*p+7*g)%80]);for(var f=p+1;f<=b;f++)a.lineTo(M+f*e+da[x(11*f+3*g)%80],
k+da[x(9*f+7*g)%80]);f--;for(a.lineTo(M+f*e+da[x(11*f+3*(g+1))%80],1+k+e+da[x(9*f+7*(g+1))%80]);f>=p;f--)a.lineTo(M+f*e+da[x(11*f+3*(g+1))%80],1+k+e+da[x(9*f+7*(g+1))%80]);a.closePath();a.fill()}p=b}q=c});k+=e}a.restore()}function Ha(a,b,c){return Wa(l,l,function(f){var m=0;ga(l,l,function(d,h){f[m++]=a(d,h);f[m++]=b(d,h);f[m++]=c(d,h);f[m++]=255})})}function ac(){return function(a){var b=O(a.l,.4);return Ia((b+.08)/2,(a.H+.31)/2,(a.b+.16)/2)}}function Hb(a,b,c){ba.d=-90;L.speed*=3;var f=e*c;A(12*
c*c,function(){ba.e(a+(p(-2*f,2*f)|0),b+(p(-3*f,f)|0));L.e(a+(p(-2*f,2*f)|0),b+(p(-2*f,f)|0))});ba.d=90;L.speed/=3}function bc(a){var b=!1;0<wa?(wa-=a,I(ab,function(b){b.y+=a*x(bb)/2;b.y>z&&(b.y=60*e)}),0>=wa&&(cb=40,bb=P(-10*k,10*k,-1.05*bb))):(cb-=a,I(ab,function(b){b.x+=bb*a}));I(xa,function(a){var f=ab[a.U];a.x=f.x+e*(20*a.ha+6*B(10*(a.ha+3*a.ia)/w+.001*Pa));if(!(0>=a.L)){a.y=f.y+a.ia*e*20;if(a.x<-20*e||a.x>ia+20*e)b=!0;oa(a.x/e|0,a.y/e|0)!=S&&(b=!0,a.L--,lb(a.x,a.y,16))}});b&&0>=wa&&0>=cb&&(wa=
20)}function Ib(a){G[a.keyCode]="keydown"==a.type;(32==a.keyCode||37<=a.keyCode&&40>=a.ua)&&a.preventDefault()}function ha(a,b){var c={D:0,v:0,f:.3,J:function(){},Y:function(a,b){var c=b.size,h=c>>1,d=b.position.x|0,n=b.position.y|0,e=a.createRadialGradient(d,n,b.ga,d,n,h);e.addColorStop(0,b.ka);e.addColorStop(1,b.la);a.fillStyle=e;a.fillRect(d-h,n-h,c,c)},qa:function(a,b){this.ea({T:a,G:[],aa:[],j:!0,r:t(0,0),k:t(0,.3),elapsedTime:0,duration:-1,n:0,A:0,X:0,w:0,t:0,u:0,C:0,A:0});this.ea(b||{})},ea:function(a){for(var b in a)this[b]=
a[b];this.h||(this.h=this.size);this.n||(this.n=this.T/this.q)},e:function(a,b){if(this.G.length>=this.T)return null;var c=this.aa.shift()||{position:t()};this.ra(c,a||this.position.x,b||this.position.y);this.G.push(c);return c},ra:function(a,b,c){a.position.x=b+this.r.x*p(-1,1);a.position.y=c+this.r.y*p(-1,1);b=(this.d+this.w*p(-1,1))*(na/180);b=t(Math.cos(b),B(b));c=this.speed+this.u*p(-1,1);a.direction=t(b.x*c,b.y*c);a.size=this.size+this.t*p(-1,1);a.size=1>=a.size?1:a.size|0;a.h=this.h+this.t*
p(-1,1);a.f=this.f;a.c=this.q+this.X*p(-1,1);a.g=this.g+this.C*p(-1,1);a.g=100<a.g?100:0>a.g?0:a.g;a.ga=a.size/200*a.g|0;if(this.m){var h=[this.m[0],this.m[1],this.m[2],this.m[3]];if(this.I){var d=this;A(4,function(a){h[a]+=d.I[a]*p(-1,1)})}this.o&&(b=[this.o[0]+this.s[0]*p(-1,1),this.o[1]+this.s[1]*p(-1,1),this.o[2]+this.s[2]*p(-1,1),this.o[3]+this.s[3]*p(-1,1)],a.K=[(b[0]-h[0])/a.c,(b[1]-h[1])/a.c,(b[2]-h[2])/a.c,(b[3]-h[3])/a.c]);a.color=h}a.$=(a.h-a.size)/a.c},update:function(a){a/=31;if(this.j&&
0<this.n){var b=1/this.n;for(this.A+=a;this.G.length<this.T&&this.A>b;)this.e(),this.A-=b;-1!=this.duration&&(this.elapsedTime+=a,this.duration<this.elapsedTime&&this.ta())}var c=this;I(this.G,function(b,d){if(0<b.c){if(c.k){var m=b.direction,e=c.k;b.direction=t(m.x+e.x,m.y+e.y)}c.v&&(b.direction.x+=ub(c.v(b),b.direction.x,b.f));b.position.add(b.direction);b.c-=a;c.J(b,d)}0<b.c?(b.size+=b.$*a,b.ga=b.size/200*b.g|0,b.K&&(b.color[0]+=b.K[0]*a,b.color[1]+=b.K[1]*a,b.color[2]+=b.K[2]*a,b.color[3]+=b.K[3]*
a),b.color&&(m="rgba("+[P(0,255,b.color[0]|0),P(0,255,b.color[1]|0),P(0,255,b.color[2]|0)].join(),b.la=c.D||m+",0)",b.ka=m+","+P(0,1,b.color[3].toFixed(2))+")")):(c.G.splice(d,1),c.aa.push(b))})},ta:function(){this.j=!1;this.A=this.elapsedTime=0},B:function(a){var b=this;I(this.G,function(c){b.Y(a,c)})}};c.qa(a,b);return c}function cc(a,b){return t(a.x-b.x,a.y-b.y)}function t(a,b){return{x:a||0,y:b||0,scale:function(a){this.x*=a;this.y*=a},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=
a.x;this.y-=a.y}}}function Jb(a,b,c,f){return Wa(b,c,function(d){for(var e=0,h=0;h<c*b;){for(var s=a[e++],n=0;16>n;n++){var g=255*(s&3)/3|0,k=4*(h+15-n),s=s>>2;d[k++]=~f&1?g/2:g;d[k++]=~f&2?g/2:g;d[k++]=~f&4?g/2:g;d[k++]=0==g?0:255}h+=16}})}function ob(a,b){var c=a.canvas.width,f=a.canvas.height,d=Z(c,f),e=pb(a,C(d),[-1,0,0,0,0,0,-2,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0]),h=Z(c,f),s=pb(a,C(h),[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,-2,0,0,0,0,0,-1]),n=0,e=b?e:s,g=e.data,s=d,k=h;A(c*f,function(){A(3,function(){g[n]=
255-g[n];n++});n++});b&&(s=h,k=d);C(k).putImageData(e,0,0);a.globalCompositeOperation="darken";a.drawImage(k,0,0,c,f);a.globalCompositeOperation="lighter";a.drawImage(s,0,0,c,f)}function pb(a,b,c){var f=qb(a);a=(b||a).createImageData(f.width,f.height);Bb(f,a.data,c);b&&b.putImageData(a,0,0);return a}function Bb(a,b,c){var f=ua(mb(c.length)),d=f/2|0,e=a.data,h=a.width,s=a.height,n=0;ga(h,s,function(a,g){var k=0,p=0,q=0,l=e[4*(g*h+a)+3];ga(f,f,function(b,n){var l=g+n-d,r=a+b-d,l=l+10*s,l=l%s,r=r+10*
h,r=r%h,l=4*(l*h+r),r=c[n*f+b];k+=e[l]*r;p+=e[l+1]*r;q+=e[l+2]*r});b[n++]=k;b[n++]=p;b[n++]=q;b[n++]=l})}function $b(a,b,c,f,d,e){var h=0,s=0,n=20*d,g=20*e;ga(d,e,function(k,p){var l=a[s],q=b[s];s++;l=4*((k-l+n)%d+(p-q+g)%e*d);f[h++]=c[l++];f[h++]=c[l++];f[h++]=c[l++];f[h++]=c[l]})}function Ja(a,b){var c=qb(a),f=c.data,d=0;A(c.width*c.height,function(){var a=f[d],c=f[d+1],e=f[d+2],a=a/255,c=c/255,e=e/255,n,g,k,l=Math.max(a,c,e),p=l-Math.min(a,c,e);0==p?a=k=0:(k=p/l,n=(l-a)/6/p+.5,g=(l-c)/6/p+.5,e=
(l-e)/6/p+.5,a=a===l?e-g:c===l?1/3+n-e:2/3+g-n,0>a?a++:1<a&&a--);k=b({l:a,H:k,b:l});f[d++]=k.sa;f[d++]=k.oa;f[d++]=k.ja;d++});a.putImageData(c,0,0)}function Ia(a,b,c){void 0===b&&(b=a.H,c=a.b,a=a.l);var f=6*a|0,d=6*a-f;a=c*(1-b);var e=c*(1-d*b);b=c*(1-(1-d)*b);var h,g,n;switch(f%6){case 0:h=c;g=b;n=a;break;case 1:h=e;g=c;n=a;break;case 2:h=a;g=c;n=b;break;case 3:h=a;g=e;n=c;break;case 4:h=b;g=a;n=c;break;case 5:h=c,g=a,n=e}return{sa:255*h|0,oa:255*g|0,ja:255*n|0}}function D(a,b,c,d,e,g,h,k,n,l){function q(t,
u){var v=u*a+t;try{return r[v]?r[v]:r[v]=ea(l)|0?P(0,255,(ea(n)|0)+q((a+t-(p(e,g)|0))%a,(b+u-(p(h,k)|0))%b)):p(c,d)|0}catch(w){return r[v]=p(c,d)|0}}var r=[];return q}function N(a,b,c){gb.push([a,b,c])}function Wa(a,b,c){a=Z(a,b);b=C(a);var d=qb(b);c(d.data,b,a);b.putImageData(d,0,0);return a}function qb(a){return a.getImageData(0,0,a.canvas.width,a.canvas.height)}function p(a,b){return a+ea(b-a)}function ea(a){return $()*a}function rb(a){return a*a}function C(a){return a.getContext("2d")}function Z(a,
b){var c=F.createElement("canvas");c.width=a||g;c.height=b||r;return c}function ga(a,b,c){for(var d=0;d<b;d++)for(var e=0;e<a;e++)c(e,d)}function P(a,b,c){return O(b,aa(a,c))}function I(a,b){for(var c=a.length-1;0<=c&&!b(a[c],c);c--);}function A(a,b){for(var c=0;c<a;c++)b(c)}function $(){var a=2091639*J.V+J.N*J.O;J.V=J.W;J.W=J.P;J.N=a|0;J.P=a-J.N;return J.P}var Ka=250,Kb=400,Ba=10,Db=8,Lb=1,Mb=450,e=7,g=1E7,r=0,k=1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&
(Ka=200,Kb=300,Ba=5,Db=4,Lb=1,Mb=300);for(;(r>innerHeight||g>innerWidth)&&3<e;)e--,k=e/7,g=1715*k|0,r=1400*k|0;var ia=2048*e,Ea=1E3*e,z=Ea-150,Da=[],Q=0,K=0,J={fa:function(a){a=1>a?1/a:a;this.V=(a>>>0)*this.O;a=69069*a+1>>>0;this.W=a*this.O;this.P=(69069*a+1>>>0)*this.O;this.N=1;return this},V:0,W:0,P:0,N:0,O:2.3283064365386963E-10};J.fa(5);var Nb=[],ya=[],F=document;F.getElementById("overlay").style.width=g+"px";F.getElementById("overlay").style.left=(-g>>1)+"px";var dc=F.getElementById("canvas_cont");
A(5,function(){var a=Z();a.style.left=(-g>>1)+"px";dc.appendChild(a);Nb.push(a);ya.push(C(a))});var ja=ya[0],Ra=ya[1],H=ya[2],u=ya[3],y=ya[4],x=Math.abs,O=Math.min,aa=Math.max,B=Math.sin,ua=Math.round,mb=Math.sqrt,na=Math.PI,w=2*na,Ua=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;if(!Ua)var Ob=0,Ua=function(a){var b=Date.now(),c=aa(0,16-(b-Ob));window.setTimeout(function(){a(b+c)},c);Ob=b+c};var gb=[],d={a:t(50*e,900*e),b:t(),S:0,M:0,pa:100,p:0},
Ta=0,q=64*k|0;N("Chasing Sprites",4,function(){var a=Jb([0,0,0,44016,0,0,176124,0,0,152917,0,0,177556,0,0,174826,0,1024,174680,5119,-2096,174752,1365,1431655764,175088,5467,-445688492,437244,86,-50380800,437247,6,-1124253696,1747967,1,-1359396864,437247,0,1788870656,1485823,0,444596224,1485823,0,83886080,1485567,0,0,1747711,0,0,1485804,0,0,48175,0,0,15407,0,0,11307,0,0,11304,0,0,11307,0,0,11051,0,0],48,24),b=Z(2*q,q),b=C(b);b.drawImage(a,0,0,2*q,q);ob(b,!0);Ta=Z(2*q,q);var a=C(Ta),c=b.getImageData(0,
0,2*q,q).data,b=a.createImageData(2*q,q),d=b.data,e=0;ga(2*q,q,function(){d[e]=c[e];e++;d[e]=c[e];e++;d[e]=c[e]/2;e++;d[e]=c[e];e++});a.putImageData(b,0,0);ca()});var xb=0,G={};F.onkeydown=Ib;F.onkeyup=Ib;F.body.addEventListener("touchmove",function(a){a.preventDefault()},!1);var wb=0,vb=0,Ca=0;F.onmousemove=function(a){var b=Nb[1].getBoundingClientRect();wb=a.clientX-b.left;vb=a.clientY-b.top};F.onmousedown=function(a){Ca|=1<<a.button};F.onmouseup=function(a){Ca&=~(1<<a.button)};var za=[[47,-67108864,
42,-1442840576,170,-1442840576,170,-1442840576,11946,-1430781952,10922,-1431568384,9898,-1431830528,785066,-1431314432,682666,-1431658496,956074,-1431916544,9278826,-1454001664,43423066,-1453932672,44734294,-1512658240,40539994,-1512658240,40539482,-1453938048,44737898,-1453675904,40544917,1521134208,39496277,1437160832,11183735,2006624768,9813,1436024832,9821,-577110016,632149,1448779776,693338,-1457868800,692377,1761976320,6963221,1442950784,111486608,93350592,127149712,94378560,23864896,26219968,
10488192,6294016],[770048,1032192,704512,1024E3,688128,1024E3,698368,15376384,698880,65699840,11776,48758784,10752,48758784,961194,-357924864,961194,-1431576576,961194,-1431642112,16411306,-1432950272,66737834,-1437159936,65689002,-1453937152,44727658,-1510560256,-22381142,-1443189848,-22369622,-1431655432,-1096111446,-1431655768,-1431655766,-1431660888,-1436898731,1437247144,-1458918787,2108318120,-1458918742,-1431678552,-1458918742,-1431662172,-1459191808,692644,1762033664,692564,-1794790828,-1788198312,
67201636,1520762880,27300,1519648768,5476,-1789394944,10836,-1431830528],[682,-1434451968,3071,-1414529024,16362,-1430519808,44760746,-1431655808,44739242,-1431655552,48933546,-1431654464,732605098,-1431655432,1051372202,-1431655430,984263338,-1431655686,715806378,-1433032006,715806058,-1454003542,715825002,-1443452246,715824986,-1510561110,715827882,-1431655766,1789569706,-1431655766,447326890,-1431741786,357935773,1990874452,1747613,1990890496,1747605,1454023936,22697386,-1432966848,27935066,-1543411136,
27934746,-1543411136,22697301,1414899008,1742080,5936384,1485312,5936384,1399040,5854208,349440,5586944]],xa=[],La=[],ab=[],bb=2.5*k,wa=0,cb=0;renderAliens=function(a){I(xa,function(b){a.drawImage(za[b.U],b.x-b.Z/2,b.y-b.l/2)});a.fillStyle="#fff";I(La,function(b){a.fillRect(b.x-5,b.y-5,10,10)})};updateAliens=function(a){bc(a);I(xa,function(b,c){5>b.L&&.3>$()&&L.e(b.x,b.y);if(0>=b.L||b.y>z+20*e){if(b.b=O(3*e,(b.b||0)+.3),b.y+=b.b*a,.6>$()&&L.e(b.x,b.y),qa(b.x,b.y)||b.y>z+20*e)Hb(b.x,b.y,2),xa.splice(c,
1),lb(b.x,b.y,6*e)}else{var f=10*e,m=d.a.x-b.x+p(-f,f),f=d.a.y-b.y+p(-f,f),g=m*m+f*f;$()<.001*a*(g<200*e?2:1)&&100>La.length&&(g>e*e*9E3?(m=0,f=1):(g=mb(g),m/=g,f/=g),La.push({x:b.x,y:b.y,U:b.U,ma:e*m,na:e*f}))}});Ga[pa]=1;I(La,function(b,c){A(2,function(){b.x+=b.ma*a;b.y+=b.na*a;var f=!1;x(b.x-d.a.x)+x(b.y-d.a.y)<q&&(d.pa--,f=!0);qa(b.x,b.y)&&(f=!0,lb(b.x,b.y,3*e));if(f)return La.splice(c,1),Hb(b.x,b.y,1),!0})});Ga[pa]=0};N("Beaming Aliens",4,function(){A(3,function(a){var b=Jb(za[a],32,za[a].length/
2,1<<a),c=Z(64*k,2*b.height*k);C(c).drawImage(b,0,0,c.width,c.height);za[a]=c});for(var a=0;6>a;a++){ab.push({x:20*e,y:e*(30+20*a)});for(var b=a>>1,c=0;12>c;c++)xa.push({ha:c,ia:a,U:b,Z:za[b].width,l:za[b].height,L:10})}ca()});var Pb,db={};N("Painting Sky",10,function(){Pb=Wa(Ka,2*r,function(a){var b=0;A(Ka,function(){a[b++]=40;a[b++]=50;a[b++]=80;a[b++]=255});var c=105/r,d=4*Ka;ga(Ka,2*r-1,function(){a[b]=(a[b-4]+a[b-d]+(ea(2)|0)>>1)+($()<c?ea(2)|0:0);b++;a[b]=(a[b-4]+a[b-d]+(ea(2)|0)>>1)+($()<c?
ea(2)|0:0);b++;a[b]=(a[b-4]+a[b-d]+(ea(2)|0)>>1)+($()<c?ea(2)|0:0);b++;a[b++]=255})});ja.fillStyle=ja.createPattern(Pb,"repeat-x");ja.fillRect(0,0,g,r);ca()});N("Blowing Clouds",10,function(){for(var a=6;30>a;a++){db[a]=[];for(var b=30+4*a,c=0;c<Lb;c++){var d=Z(120,60),e=C(d);e.scale(2,1);for(var g=0;4>g;g++){var h=p(22.5,37.5)|0,k=p(22.5,37.5)|0,n=e.createRadialGradient(h,k,15,h,k,22.5),l=b+(p(-10,10)|0),q="rgba("+l+","+l+","+l+",0)";n.addColorStop(0,"rgba("+l+","+l+","+l+",.8)");n.addColorStop(1,
q);e.fillStyle=n;e.arc(h,k,30,0,w);e.fill()}db[a].push(d)}}ca()});var l=Kb,eb,Qb,Rb,Ma,fb,Sb,Tb,Ub,Vb,Na;N("Chiseling Rocks",10,function(){function a(a,b){return function(c,d){return aa(b,a(c,d))}}eb=Ha(D(l,l,120,180,-3,3,-3,3,-1,200),D(l,l,70,130,-3,3,-3,3,-1,100),D(l,l,40,80,-3,3,-3,3,-2,100));var b=Ha(D(l,l,60,180,-1,2,1,3,-2,100),D(l,l,70,220,-1,2,1,3,-1,200),D(l,l,70,100,-1,2,1,3,-3,100)),c=Ha(a(D(l,l,60,110,1,3,-3,0,-4,100),20),a(D(l,l,80,160,1,3,-3,0,-2,500),30),a(D(l,l,20,40,1,3,-3,0,4,1E3),
80));Qb=H.createPattern(b,"repeat");Ja(C(b),function(a){return Ia(a.l,a.H/4,.4*a.b)});Rb=H.createPattern(b,"repeat");Ja(C(c),function(a){return Ia(a.l,.1*a.H,P(.75,1,1.1*a.b))});Tb=H.createPattern(c,"repeat");ca()});N("Chiseling Rocks",10,function(){fb=Ha(D(l+7,l+7,80,140,-2,4,-2,4,2,300),D(l+7,l+7,80,140,-2,4,-2,4,-1,300),D(l+7,l+7,40,80,-2,4,-2,4,-2,300));var a=Ha(D(l,l,30,50,1,4,1,4,5,100),D(l,l,120,180,1,4,1,4,-2,200),D(l,l,150,220,1,4,1,4,-2,200));Ma=C(fb);Na=C(eb);var b=C(a);Ja(b,function(a){return Ia(a.l,
.3*a.H,.5*a.b)});I([Ma,Na,b],function(a){pb(a,a,[.1,.1,.1,.1,.2,.1,.1,.1,.1])});Ub=H.createPattern(a,"repeat");ca()});N("Chiseling Rocks",10,function(){ob(Ma);Ja(Ma,function(a){return Ia(a.l,.3*a.H,.5*a.b)});ob(Na);Ja(Na,ac());Vb=H.createPattern(eb,"repeat");Sb=H.createPattern(fb,"repeat");eb=fb=Ma=Na=0;ca()});var va,W=g+400,X=r+400,da=[],ka=0,kb=[],Fa=[];N("Digging Caves",10,function(){J.fa(1);var a=Z(2048,1E3),b=C(a);b.fillStyle="rgba(0,0,0,0)";b.fillRect(0,0,2048,1E3);b.shadowColor="#400000";b.shadowBlur=
0;b.shadowOffsetX=0;b.shadowOffsetY=-14;b.fillStyle="#600000";var c=[];c[2048]=0;(function(a,b,c){var d=a.length-1;c=Math.pow(2,-c);b*=c;var f=d/2;for(a[0]=a[d]=0;f;){for(var e=f;e<d;e+=2*f)a[e]=b*p(.2,1)+(a[e-f]+a[e+f])/2;b*=c;f>>=1}})(c,1500,.7);b.beginPath();b.lineTo(0,1E3);A(2048,function(a){c[a]+=400*rb(B(2*w*a/2048))*rb(B(na+3*w*a/2048));c[a]*=1/(1+rb(.001*(a-1024)));b.lineTo(a,1E3-c[a])});b.lineTo(2049,1E3);b.closePath();b.fill();b.clip();b.shadowOffsetY=3;b.lineWidth=22;b.shadowColor="#800000";
b.beginPath();b.strokeStyle="#a00000";b.moveTo(0,600);b.lineTo(2048,900);b.moveTo(0,900);b.lineTo(2048,600);b.moveTo(204.8,0);b.lineTo(1433.6,810);b.moveTo(1843.2,0);b.lineTo(614.4,810);b.stroke();b.beginPath();b.fillStyle="#a00000";b.arc(204.8,750,30,0,w);b.arc(1843.2,750,30,0,w);b.fill();va=new Uint8Array(2048E3);var d=b.getImageData(0,0,2048,1E3).data,e=0,g=0;ga(2048,1E3,function(a,b){var k=d[e+=4]>>5,l=b/1E3;.4>l&&(k==pa||k==nb)&&b<1E3-c[a]+100*(.4-l)&&(k=Oa);va[g++]=k})});A(2,function(){var a=
Z(W,X);kb.push(a);Fa.push(a.getContext("2d"))});A(80,function(){da.push(p(-(e>>1),1+(e>>1))|0)});var Fb={},T=1E7,V=1E7,la=-1E7,ma=-1E7,Ga={6:1,3:1,7:1},S=0,pa=2,nb=3,Xa=4,Za=5,Ya=6,Oa=7;N("Digging Caves",10,function(){Fb=[0,Rb,Qb,Sb,Ub,Vb,"#333",Tb];ca()});var ra=1E7,sa=0,Y;N("Waving waves",10,function(){A(Ba-Da.length,function(){ca()});Y=null});y.strokeStyle="rgba(200,200,250,0.3)";y.lineWidth=3;var Cb=10,v=[];A(g/Cb+1,function(){v.push({height:z,i:0})});y.globalAlpha=.9;var Aa=0,yb,ba=ha(350,{position:t(),
d:90,w:10,duration:-1,o:[200,45,10,0],s:[40,40,40,0],k:t(0,.03),q:1,r:t(4,6),g:12,C:12,size:30*k|0,h:75*k|0,D:"rgba(40,20,10,0)",t:5*k,speed:4*k,u:1*k,n:140,m:[220,188,88,1],I:[32,35,38,0],J:function(a){if(a.position.y>z)a.c=0,zb(a);else{var b=(a.position.x/e|0)+1,c=(a.position.y/e|0)+1,d=oa(b,c);d==pa||d==Oa?(a.c=0,L.e(a.position.x,a.position.y),d==Oa?(R.speed=3*k,R.e(a.position.x,a.position.y),$a(b,c,S)):$a(b,c,.8>$()?1:S)):Ga[d]&&(a.position.sub(a.direction),a.direction.y*=-1)}},v:Ab,f:.1});ha(50,
{position:t(),d:90,w:10,duration:-1,D:"rgba(40,20,10,0)",k:0,q:1,r:t(3,3),g:22,C:12,size:30*k|0,h:15*k|0,t:5*k,speed:4*k,u:1*k,n:140,f:.1});var Sa=ha(250,{j:!1,position:t(),d:0,w:360,duration:-1,o:[230,150,150,.1],s:[20,20,20,.1],k:t(0,.4),q:2.5,r:t(3,3),g:82,C:12,size:8*k|0,h:2*k|0,speed:5*k,u:1*k,m:[250,160,160,1],I:[5,5,5,0],v:Ab,f:.1}),Qa=ha(100,{j:!1,k:0,position:t(),m:[200,50,50,.8],speed:e,q:3,Y:function(a,b){a.moveTo(b.da.x,b.da.y);a.lineTo(b.position.x,b.position.y)},J:function(a){if(!(0>
a.c)){a.da=cc(a.position,a.direction);for(var b=0;6>b&&a.c;b++){var c=a.position.x,d=a.position.y;d>z&&(a.c*=.8,zb(a));I(xa,function(b){var e=b.x-b.Z/2,g=b.y-b.l/2;c>e&&c<e+b.Z&&d>g&&d<g+b.l&&(a.c=0,Sa.e(c,d),b.L--)});var g=(c/e|0)+1,l=(d/e|0)+1,h=oa(g,l);if(h==pa||h==Oa)if(L.e(c,d),h==Oa)a.c*=.8,R.speed=3*k,R.e(c,d),$a(g,l,S);else{a.c=0;$a(g,l,.8>$()?1:S);continue}else if(Ga[h]){a.c=0;Sa.e(c,d);continue}a.position.add(a.direction)}a.c||(a.position.sub(a.direction),a.c=1E-5)}}}),ib=ha(Mb,{j:!0,position:t(d.a.x,
-60*e),d:90,w:180,duration:-1,o:[240,240,250,.1],s:[10,10,10,0],k:t(0,.02),q:25,r:t(.7*g,5*e),g:12,C:12,size:20*k|0,h:10*k|0,t:2*k,D:"rgba(40,40,40,0)",speed:.2*k,u:.1,m:[220,220,230,1],I:[22,22,22,0],v:Va,J:function(a,b){a.position.x+=B(w*b/50+.001*Pa);a.direction.y=O(a.direction.y,4*k)},f:.4}),fa=ha(350,{j:!1,position:t(ia/2,-125*e),d:0,duration:-1,k:0,q:10,n:-1,r:t(ia/2,10*e),size:280*k|0,h:280*k|0,t:30,speed:.2*k,u:.1,v:Va,f:.3,J:function(a){a.c=1E3;a.position.x+=ia;a.position.x%=ia},Y:function(a,
b){var c=b.size|0,d=b.position.x|0,e=b.position.y|0;if(!b.ba){var g=100*b.f|0,g=P(6,29,g),h=db[g].shift();db[g].push(h);b.ba=h}a.drawImage(b.ba,d,e,2*c,c)}}),L=ha(250,{j:!1,position:t(),d:-90,w:20,duration:10,o:[40,40,40,0],s:[10,10,10,0],k:t(0,-.25),q:.8,X:.2,r:t(2,2),g:12,C:12,size:45*k|0,h:60*k|0,t:6*k,D:"transparent",speed:1.2*k,u:.1,m:[220,220,220,1],I:[22,22,22,0],v:Va,f:.8}),R=ha(250,{j:!1,position:t(),d:-90,w:80,duration:.15,o:[40,70,140,.2],s:[10,10,10,0],k:t(0,.5),q:1.2,X:.2,r:t(16,4),g:72,
C:12,size:14,h:8,t:1,n:100,speed:2*k,D:"rgba(140,140,255,0)",u:.5,m:[60,80,120,.9],I:[12,12,12,0],J:function(a){a.position.y>z&&0<a.direction.y&&(a.c=0)},v:Va,f:.05}),Pa=0,Wb=.4*Ea+20*e,hb=0;N("Almost Ready...",10,function(){A(fa.T,function(){.22>$()&&(fa.position.y+=2,fa.f*=.98);var a=fa.e();a.h=a.size;a.$=0});H.font="20px Verdana";H.textAlign="center";H.fillStyle="#fff"});N("Ready!",1,function(){F.getElementById("overlay").style.display="none";Ua(tb)});sb()})();
