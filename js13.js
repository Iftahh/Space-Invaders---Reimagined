(function(){function mb(){if(0!=bb.length){var a=bb.shift(),b=a[1];F.getElementById("text").textContent=a[0];cb+=b;F.getElementById("pbar-in").style.width=2*cb+"px";a[2]();setTimeout(mb,0)}}function nb(a){var b=ga(3.5,(a-Ka)/32);Ka=a;a=(xa/3|0)%ya;var c=L[32]||L[87]?1.65:.6;d.P=d.e>ma/2||d.e<-ma/2;if(L[37]||L[65]||L[83])d.b.x=ha(-10,d.b.x-c),d.C&&(d.P=!0);else if(L[39]||L[68]||L[70])d.b.x=ga(10,d.b.x+c),d.C&&(d.P=!1);!d.C&&d.$&&(d.b.x+=ob(1.5,d.b.x,.02));G.j=!d.O&&(L[32]||L[87]);c=d.a.y<z;d.b.scale(c?
.99:.76);d.b.y=Q(-10,20,d.b.y+(G.j?-.25:d.C?.8:.5));var f=d.b;d.a.add(t(f.x*b,f.y*b));d.a.y>z&&(c&&(v[v.length*(1-l/2/l)|0].h=22*d.b.y,M.j=!0,M.position.x=d.a.x,M.position.y=d.a.y+g-8,M.speed=.75*d.b.y,M.o=20*A(d.b.y)),d.a.y>z+.5*s&&(d.a.y=0));d.a.x>ia+l&&(d.a.x=-l);d.a.x<-l&&(d.a.x=ia+l);a:{var c=R(d.a.x/e|0,(d.a.y-.4*g)/e|0),p=f=!1,S=!1,h=0,q=0;d.$=c==N||c==La||1==c;0<d.b.x&&(h=g/4,q=-d.a.x%e);0>d.b.x&&(h=g/-4,q=-d.a.x%e+e);ja(R((d.a.x+h)/e|0,(d.a.y-.8*g)/e|0))&&(p=!0,ja(R((d.a.x+h)/e|0,(d.a.y-
.6*g)/e|0))&&(f=!0));ja(R((d.a.x+h)/e|0,(d.a.y+2*e)/e|0))&&(S=!0,ja(R((d.a.x+h)/e|0,d.a.y/e|0))&&(f=!0));if(S||p)if(f&&(d.b.x*=-.3,d.a.x+=q),.2>A(d.b.y)?d.b.y=0:d.b.y*=0<d.b.y&&S||0>d.b.y&&p?-.3:.3,p&&(d.a.y+=e-d.a.y%e,f||(d.a.y+=e),d.b.x*=.2),S){d.a.y-=d.a.y%e;f&&(d.a.y-=e);d.C=!0;pb=0;break a}6<pb++&&(d.C=!1)}d.C?.3>A(d.b.x)?d.b.x=0:d.b.x*=.8:d.a.y<-20*e&&(d.O=20);0<d.O&&d.O--;d.e=Math.atan2(O+qb-d.a.y+.72*g,T+rb-d.a.x);za&&0>=d.u&&(Ma.e=360*d.e/x,Ma.d(d.a.x,d.a.y-.72*g),d.u+=b);d.u=0<d.u&&300>
d.u?d.u+b:-20;c=d.a.y<Pb;O=d.a.y-s/2|0;T=d.a.x-l/2|0;u.setTransform(1,0,0,1,-T,-O);y.setTransform(1,0,0,1,-T,-O);c&&(Na.setTransform(1,0,0,1,-T,-O),db.position.x=d.a.x-30*e);G.position.x=d.a.x-(d.P?-5:5);G.position.y=d.a.y-15;Qb(b);Ma.update(b);Rb(b);G.update(b);Oa.update(b);M.update(b);J.update(b);c&&(db.update(b),ea.update(b));y.clearRect(T,O,l,s);Na.clearRect(T,O,l,s);u.clearRect(T,O,l,s);u.save();u.globalCompositeOperation="lighter";G.v(u);u.restore();Oa.v(u);u.beginPath();Ma.v(u);u.strokeStyle=
"rgba(250, 60, 60, .4)";u.lineWidth=7;u.stroke();u.lineWidth=2;u.strokeStyle="rgba(255,190,190,.9)";u.stroke();J.v(u);Sb(u);c&&(db.v(Na),ea.v(Na));Pa&&(c=d.a,f=d.e,p=Pa,u.save(),u.translate(c.x-g/2,c.y-g),d.P&&(u.translate(g,0),u.scale(-1,1),f=ma-f),u.drawImage(p,0,0,g,g,0,0,g,g),u.translate(g/3+g/9,g/3),u.rotate(f),u.drawImage(p,g,0,g,g,-g/3,-g/3,g,g),u.restore());y.save();M.v(y);y.restore();d.a.y>z-s&&(sb!=a&&(y.fillStyle=Aa[a],sb=a),Tb());z-=.01*b;z<Qa-1E3&&(z=Qa-10);1E7>$&&(Ba[ka].clearRect($-
na,fa-oa,Ca-$-2,Da-fa-2),pa(Ba[ka],$,fa,$-na-1,fa-oa-1,Ca-$,Da-fa),$=fa=1E7,Ca=Da=-1E7);var p=d.a.x,r=d.a.y,p=p-U/2,r=r-V/2,S=Ba[ka],b=p-na;a=r-oa;c=A(b);f=A(a);if(c||f){if(c>U||f>V)na=p,oa=r,pa(S,p,r,0,0,U,V);else if(200<c||200<f){na=p;oa=r;var W,w,eb,fb,S=0;0>b?(W=c,w=0):(W=0,w=c);0>a?(eb=f,fb=0):(fb=f,eb=0);var k=U-c,n=V-f,h=1-ka,q=Ba[h];q.clearRect(0,0,U,V);q.drawImage(gb[ka],w,fb,k,n,W,eb,k,n);0>a?(pa(q,p,r,0,0,U,f),S=f,r+=f):pa(q,p,r+V-f,0,V-f,U,f);0>b?pa(q,p,r,0,S,c,V-f):(p+=U-c,pa(q,p,r,U-
c,S,c,V-f));ka=h;b=a=0}H.clearRect(0,0,l,s);H.drawImage(gb[ka],200+b,200+a,l,s,0,0,l,s)}Ra(nb);xa++;H.fillText("Wind: 1.5",l/2,50);d.O&&H.fillText("Engine FROZEN!",l/2,s/2-100)}function tb(a){var b=a.position.x;J.d(b,a.position.y);if(a=v[v.length*(1-(b-T)/l)|0+(n(-1,2)|0)])a.h+=1}function ob(a,b,c){a-=b;return Q(-10,10,A(a)*a*c)}function Sa(){return 1.5}function ub(){return d.$?1.5:0}function Ub(a){return Ta(l,s,function(b){var c=new Int8Array(l*s),f=new Int8Array(l*s),p=0;X(l,s,function(b,h){c[p]=
qa(5*(b-l/2)/(3*h/s+.6)+5*C(a+x*(b+2*h)/l)+3*C(a+2*x*(b+h)/l));f[p]=qa(5*(2*h/s+.6)*C(a+4*x*(b+h/2)/l)*C(a+3.5*x*(b+h)/l));p++});Vb(c,f,Y,b,l,s)})}function aa(){if(Aa.length<ya){if(!Y){Y=[];for(var a=0,b=0;b<s;b++)for(var c=n(5,25)|0,f=n(10,35)|0,p=n(20,40)|0,d=0;d<l;d++){var h=n(25,50)|0,q=n(30,65)|0,e=n(70,120)|0;Y[a++]=20+(h+c>>1)+qa(5*C(b*x/10));Y[a++]=25+(q+f>>1)+qa(5*C(b*x/12));Y[a++]=30+(e+p>>1)+qa(8*C(b*x/13));Y[a++]=255;c=h;f=q;p=e}a=[];vb({data:Y,width:l,height:s},a,[.1,.1,.1,.1,.2,.1,.1,
.1,.1]);Y=a}Aa.push(y.createPattern(Ub(Aa.length*x/ya),"repeat"))}}function Tb(){if(!(O+2*s<z)){y.translate(T,0);y.beginPath();y.moveTo(l,O+s);y.lineTo(0,O+s);var a=0;P(v,function(b){y.lineTo(a,b.height+3*C((a-5.25*xa)/322*x+4*C((a-3*xa)/511*x)+4*C((a-1.5*xa)/733*x)));a+=wb});y.closePath();y.fill();y.stroke()}}function Qb(a){var b=0;P(v,function(c){c.h+=a*(-.04*(c.height-z)-.025*c.h);c.height+=c.h*a;b=ha(b,A(c.h))});if(1<b){var c=[],f=[];B(xb,function(){for(var a=0;a<v.length;a++)0<a&&(c[a]=.25*(v[a].height-
v[a-1].height),v[a-1].h+=c[a]),a<v.length-1&&(f[a]=.25*(v[a].height-v[a+1].height),v[a+1].h+=f[a]);for(a=0;a<v.length;a++)0<a&&(v[a-1].height+=c[a]),a<v.length-1&&(v[a+1].height+=f[a])})}}function ja(a){return a==Ua||a==yb||a==ra}function zb(a,b){var c=Ab[R(a,b)];return void 0===c?Wb:c}function R(a,b){return 0>b?N:0>a?b>=1E3-.4*a?Ua:N:2048<=a?b>=1E3+.4*(a-2048)?Ua:N:1E3<=b?Ua:Va[2048*b+a]}function sa(a,b,c){Va[2048*b+a]=c;a*=e;b*=e;$=ga($,a-2*e);fa=ga(fa,b-2*e);Ca=ha(Ca,a+2*e);Da=ha(Da,b+2*e)}function pa(a,
b,c,f,p,d,h){var q=d/e|0,r=h/e|0,W=b/e|0;b=c/e|0;var w=na;c=oa;a.save();a.translate(-w,-c);a.rect(w+f,c+p,d,h);a.clip();f-=e;f-=f%e;p-=e;p-=p%e;for(var q=q+4,r=r+2,w=w+f,l=c+p,g=b;g<b+r;g++){var k=zb(W,g),n=0;B(q,function(b){var c=zb(W+b,g);if(c!=k||b>=q-1){if(k){a.fillStyle=k;a.beginPath();a.moveTo(w+n*e+ba[A(11*n+3*g)%80],l+ba[A(9*n+7*g)%80]);for(var f=n+1;f<=b;f++)a.lineTo(w+f*e+ba[A(11*f+3*g)%80],l+ba[A(9*f+7*g)%80]);f--;for(a.lineTo(w+f*e+ba[A(11*f+3*(g+1))%80],1+l+e+ba[A(9*f+7*(g+1))%80]);f>=
n;f--)a.lineTo(w+f*e+ba[A(11*f+3*(g+1))%80],1+l+e+ba[A(9*f+7*(g+1))%80]);a.closePath();a.fill()}n=b}k=c});l+=e}a.restore()}function Ea(a,b,c){return Ta(k,k,function(f){var p=0;X(k,k,function(d,h){f[p++]=a(d,h);f[p++]=b(d,h);f[p++]=c(d,h);f[p++]=255})})}function Xb(){return function(a){var b=ga(a.k,.4);return Fa((b+.08)/2,(a.F+.31)/2,(a.b+.16)/2)}}function Rb(a){Yb(a);P(ta,function(b,c){5>b.Q&&.3>ca()&&J.d(b.x,b.y);if(0>=b.Q||b.y>z+20*e){b.b=ga(2*e,(b.b||0)+.3);b.y+=b.b*a;.6>ca()&&J.d(b.x,b.y);var f=
b.x/e|0,p=b.y/e|0;if(ja(R(f,p))||b.y>z+20*e)G.e=-90,G.speed*=2,J.speed*=3,B(50,function(){G.d(b.x+(n(-3*e,3*e)|0),b.y+(n(-3*e,3*e)|0));J.d(b.x+(n(-3*e,3*e)|0),b.y+(n(-3*e,3*e)|0))}),G.e=90,G.speed/=2,J.speed/=3,ta.splice(c,1),X(3,3,function(a,b){sa(f+a-1,p+b-1,N)})}})}function Sb(a){P(ta,function(b){a.drawImage(ua[b.ea],b.x-b.W/2,b.y-b.k/2)})}function Yb(a){var b=!1;0<va?(va-=a,P(Wa,function(b){b.y+=a*A(Xa)/2;b.y>z&&(b.y=60*e)}),0>=va&&(Ya=40,Xa=Q(-10*m,10*m,-1.05*Xa))):(Ya-=a,P(Wa,function(b){b.x+=
Xa*a}));P(ta,function(a){var f=Wa[a.ea];a.x=f.x+e*(20*a.fa+6*C(10*(a.fa+3*a.ga)/x+.001*Ka));if(!(0>=a.Q)){a.y=f.y+a.ga*e*20;if(a.x<-20*e||a.x>ia+20*e)b=!0;var p=a.x/e|0,d=a.y/e|0;R(p,d)!=N&&(b=!0,X(3,3,function(a,b){sa(p+a-1,d+b-1,N)}))}});b&&0>=va&&0>=Ya&&(va=20)}function Bb(a){L[a.keyCode]="keydown"==a.type;(32==a.keyCode||37<=a.keyCode&&40>=a.qa)&&a.preventDefault()}function la(a,b){var c={J:0,s:0,f:.3,I:function(){},V:function(a,b){var c=b.size,h=c>>1,d=b.position.x|0,e=b.position.y|0,W=a.createRadialGradient(d,
e,b.da,d,e,h);W.addColorStop(0,b.ia);W.addColorStop(1,b.ja);a.fillStyle=W;a.fillRect(d-h,e-h,c,c)},la:function(a,b){this.ba({R:a,D:[],Y:[],j:!0,r:t(0,0),n:t(0,.3),elapsedTime:0,duration:-1,o:0,t:0,U:0,B:0,w:0,A:0,G:0,t:0});this.ba(b||{})},ba:function(a){for(var b in a)this[b]=a[b];this.i||(this.i=this.size);this.o||(this.o=this.R/this.q)},d:function(a,b){if(this.D.length>=this.R)return null;var c=this.Y.shift()||{position:t()};this.ma(c,a||this.position.x,b||this.position.y);this.D.push(c);return c},
ma:function(a,b,c){a.position.x=b+this.r.x*n(-1,1);a.position.y=c+this.r.y*n(-1,1);b=(this.e+this.B*n(-1,1))*(ma/180);b=t(Math.cos(b),C(b));c=this.speed+this.A*n(-1,1);a.direction=t(b.x*c,b.y*c);a.size=this.size+this.w*n(-1,1);a.size=1>=a.size?1:a.size|0;a.i=this.i+this.w*n(-1,1);a.f=this.f;a.c=this.q+this.U*n(-1,1);a.g=this.g+this.G*n(-1,1);a.g=100<a.g?100:0>a.g?0:a.g;a.da=a.size/200*a.g|0;if(this.l){var h=[this.l[0],this.l[1],this.l[2],this.l[3]];if(this.H){var d=this;B(4,function(a){h[a]+=d.H[a]*
n(-1,1)})}this.m&&(b=[this.m[0]+this.p[0]*n(-1,1),this.m[1]+this.p[1]*n(-1,1),this.m[2]+this.p[2]*n(-1,1),this.m[3]+this.p[3]*n(-1,1)],a.K=[(b[0]-h[0])/a.c,(b[1]-h[1])/a.c,(b[2]-h[2])/a.c,(b[3]-h[3])/a.c]);a.color=h}a.X=(a.i-a.size)/a.c},update:function(a){a/=31;if(this.j&&0<this.o){var b=1/this.o;for(this.t+=a;this.D.length<this.R&&this.t>b;)this.d(),this.t-=b;-1!=this.duration&&(this.elapsedTime+=a,this.duration<this.elapsedTime&&this.oa())}var c=this;P(this.D,function(b,d){if(0<b.c){if(c.n){var p=
b.direction,e=c.n;b.direction=t(p.x+e.x,p.y+e.y)}c.s&&(b.direction.x+=ob(c.s(b),b.direction.x,b.f));b.position.add(b.direction);b.c-=a;c.I(b,d)}0<b.c?(b.size+=b.X*a,b.da=b.size/200*b.g|0,b.K&&(b.color[0]+=b.K[0]*a,b.color[1]+=b.K[1]*a,b.color[2]+=b.K[2]*a,b.color[3]+=b.K[3]*a),b.color&&(p="rgba("+[Q(0,255,b.color[0]|0),Q(0,255,b.color[1]|0),Q(0,255,b.color[2]|0)].join(),b.ja=c.J||p+",0)",b.ia=p+","+Q(0,1,b.color[3].toFixed(2))+")")):(c.D.splice(d,1),c.Y.push(b))})},oa:function(){this.j=!1;this.t=
this.elapsedTime=0},v:function(a){var b=this;P(this.D,function(c){b.V(a,c)})}};c.la(a,b);return c}function Zb(a,b){return t(a.x-b.x,a.y-b.y)}function t(a,b){return{x:a||0,y:b||0,scale:function(a){this.x*=a;this.y*=a},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=a.x;this.y-=a.y}}}function Cb(a,b,c,f){return Ta(b,c,function(d){for(var e=0,h=0;h<c*b;){for(var q=a[e++],r=0;16>r;r++){var g=255*(q&3)/3|0,w=4*(h+15-r),q=q>>2;d[w++]=~f&1?g/2:g;d[w++]=~f&2?g/2:g;d[w++]=~f&4?g/2:g;d[w++]=
0==g?0:255}h+=16}})}function hb(a,b){var c=a.canvas.width,f=a.canvas.height,d=Z(c,f),e=ib(a,D(d),[-1,0,0,0,0,0,-2,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0]),h=Z(c,f),q=ib(a,D(h),[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,-2,0,0,0,0,0,-1]),r=0,e=b?e:q,g=e.data,q=d,w=h;B(c*f,function(){B(3,function(){g[r]=255-g[r];r++});r++});b&&(q=h,w=d);D(w).putImageData(e,0,0);a.globalCompositeOperation="darken";a.drawImage(w,0,0,c,f);a.globalCompositeOperation="lighter";a.drawImage(q,0,0,c,f)}function ib(a,b,c){var f=jb(a);
a=(b||a).createImageData(f.width,f.height);vb(f,a.data,c);b&&b.putImageData(a,0,0);return a}function vb(a,b,c){var f=qa($b(c.length)),d=f/2|0,e=a.data,h=a.width,q=a.height,r=0;X(h,q,function(a,g){var l=0,n=0,k=0,m=e[4*(g*h+a)+3];X(f,f,function(b,r){var m=g+r-d,s=a+b-d,m=m+10*q,m=m%q,s=s+10*h,s=s%h,m=4*(m*h+s),s=c[r*f+b];l+=e[m]*s;n+=e[m+1]*s;k+=e[m+2]*s});b[r++]=l;b[r++]=n;b[r++]=k;b[r++]=m})}function Vb(a,b,c,f,d,e){var h=0,q=0,r=20*d,g=20*e;X(d,e,function(l,n){var k=a[q],m=b[q];q++;k=4*((l-k+r)%
d+(n-m+g)%e*d);f[h++]=c[k++];f[h++]=c[k++];f[h++]=c[k++];f[h++]=c[k]})}function Ga(a,b){var c=jb(a),f=c.data,d=0;B(c.width*c.height,function(){var a=f[d],c=f[d+1],e=f[d+2],a=a/255,c=c/255,e=e/255,g,k,l,n=Math.max(a,c,e),m=n-Math.min(a,c,e);0==m?a=l=0:(l=m/n,g=(n-a)/6/m+.5,k=(n-c)/6/m+.5,e=(n-e)/6/m+.5,a=a===n?e-k:c===n?1/3+g-e:2/3+k-g,0>a?a++:1<a&&a--);l=b({k:a,F:l,b:n});f[d++]=l.na;f[d++]=l.ka;f[d++]=l.ha;d++});a.putImageData(c,0,0)}function Fa(a,b,c){void 0===b&&(b=a.F,c=a.b,a=a.k);var d=6*a|0,
e=6*a-d;a=c*(1-b);var g=c*(1-e*b);b=c*(1-(1-e)*b);var h,q,r;switch(d%6){case 0:h=c;q=b;r=a;break;case 1:h=g;q=c;r=a;break;case 2:h=a;q=c;r=b;break;case 3:h=a;q=g;r=c;break;case 4:h=b;q=a;r=c;break;case 5:h=c,q=a,r=g}return{na:255*h|0,ka:255*q|0,ha:255*r|0}}function E(a,b,c,d,e,g,h,q,r,l){function k(s,t){var u=t*a+s;try{return m[u]?m[u]:m[u]=da(l)|0?Q(0,255,(da(r)|0)+k((a+s-(n(e,g)|0))%a,(b+t-(n(h,q)|0))%b)):n(c,d)|0}catch(v){return m[u]=n(c,d)|0}}var m=[];return k}function K(a,b,c){bb.push([a,b,c])}
function Ta(a,b,c){a=Z(a,b);b=D(a);var d=jb(b);c(d.data,b,a);b.putImageData(d,0,0);return a}function jb(a){return a.getImageData(0,0,a.canvas.width,a.canvas.height)}function n(a,b){return a+da(b-a)}function da(a){return ca()*a}function kb(a){return a*a}function D(a){return a.getContext("2d")}function Z(a,b){var c=F.createElement("canvas");c.width=a||l;c.height=b||s;return c}function X(a,b,c){for(var d=0;d<b;d++)for(var e=0;e<a;e++)c(e,d)}function Q(a,b,c){return ga(b,ha(a,c))}function P(a,b){for(var c=
a.length-1;0<=c&&!b(a[c],c);c--);}function B(a,b){for(var c=0;c<a;c++)b(c)}function ca(){var a=2091639*I.S+I.L*I.M;I.S=I.T;I.T=I.N;I.L=a|0;I.N=a-I.L;return I.N}var Ha=250,Db=400,ya=10,xb=8,Eb=1,Fb=450,e=7,l=1E7,s=0,m=1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(Ha=200,Db=300,ya=5,xb=4,Eb=1,Fb=300);for(;(s>innerHeight||l>innerWidth)&&3<e;)e--,m=e/7,l=1715*m|0,s=1400*m|0;var ia=2048*e,Qa=1E3*e,z=Qa-150,Aa=[],T=0,O=0,I={ca:function(a){a=1>a?1/a:a;this.S=
(a>>>0)*this.M;a=69069*a+1>>>0;this.T=a*this.M;this.N=(69069*a+1>>>0)*this.M;this.L=1;return this},S:0,T:0,N:0,L:0,M:2.3283064365386963E-10};I.ca(5);var Gb=[],wa=[],F=document;F.getElementById("overlay").style.width=l+"px";F.getElementById("overlay").style.left=(-l>>1)+"px";var ac=F.getElementById("canvas_cont");B(5,function(){var a=Z();a.style.left=(-l>>1)+"px";ac.appendChild(a);Gb.push(a);wa.push(D(a))});var lb=wa[0],Na=wa[1],H=wa[2],u=wa[3],y=wa[4],A=Math.abs,ga=Math.min,ha=Math.max,C=Math.sin,
qa=Math.round,$b=Math.sqrt,ma=Math.PI,x=2*ma,Ra=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;if(!Ra)var Hb=0,Ra=function(a){var b=Date.now(),c=ha(0,16-(b-Hb));window.setTimeout(function(){a(b+c)},c);Hb=b+c};var bb=[],d={a:t(820*e,30*e),b:t(),u:0},Pa=0,g=64*m|0;K("Chasing Sprites",4,function(){var a=Cb([0,0,0,44016,0,0,176124,0,0,152917,0,0,177556,0,0,174826,0,1024,174680,5119,-2096,174752,1365,1431655764,175088,5467,-445688492,437244,86,-50380800,
437247,6,-1124253696,1747967,1,-1359396864,437247,0,1788870656,1485823,0,444596224,1485823,0,83886080,1485567,0,0,1747711,0,0,1485804,0,0,48175,0,0,15407,0,0,11307,0,0,11304,0,0,11307,0,0,11051,0,0],48,24),b=Z(2*g,g),b=D(b);b.drawImage(a,0,0,2*g,g);hb(b,!0);Pa=Z(2*g,g);var a=D(Pa),c=b.getImageData(0,0,2*g,g).data,b=a.createImageData(2*g,g),d=b.data,e=0;X(2*g,g,function(){d[e]=c[e];e++;d[e]=c[e];e++;d[e]=c[e]/2;e++;d[e]=c[e];e++});a.putImageData(b,0,0);aa()});var pb=0,L={};F.onkeydown=Bb;F.onkeyup=
Bb;F.body.addEventListener("touchmove",function(a){a.preventDefault()},!1);var rb=0,qb=0,za=0;F.onmousemove=function(a){var b=Gb[1].getBoundingClientRect();rb=a.clientX-b.left;qb=a.clientY-b.top};F.onmousedown=function(a){za|=1<<a.button};F.onmouseup=function(a){za&=~(1<<a.button)};var ua=[[47,-67108864,42,-1442840576,170,-1442840576,170,-1442840576,11946,-1430781952,10922,-1431568384,9898,-1431830528,785066,-1431314432,682666,-1431658496,956074,-1431916544,9278826,-1454001664,43423066,-1453932672,
44734294,-1512658240,40539994,-1512658240,40539482,-1453938048,44737898,-1453675904,40544917,1521134208,39496277,1437160832,11183735,2006624768,9813,1436024832,9821,-577110016,632149,1448779776,693338,-1457868800,692377,1761976320,6963221,1442950784,111486608,93350592,127149712,94378560,23864896,26219968,10488192,6294016],[770048,1032192,704512,1024E3,688128,1024E3,698368,15376384,698880,65699840,11776,48758784,10752,48758784,961194,-357924864,961194,-1431576576,961194,-1431642112,16411306,-1432950272,
66737834,-1437159936,65689002,-1453937152,44727658,-1510560256,-22381142,-1443189848,-22369622,-1431655432,-1096111446,-1431655768,-1431655766,-1431660888,-1436898731,1437247144,-1458918787,2108318120,-1458918742,-1431678552,-1458918742,-1431662172,-1459191808,692644,1762033664,692564,-1794790828,-1788198312,67201636,1520762880,27300,1519648768,5476,-1789394944,10836,-1431830528],[682,-1434451968,3071,-1414529024,16362,-1430519808,44760746,-1431655808,44739242,-1431655552,48933546,-1431654464,732605098,
-1431655432,1051372202,-1431655430,984263338,-1431655686,715806378,-1433032006,715806058,-1454003542,715825002,-1443452246,715824986,-1510561110,715827882,-1431655766,1789569706,-1431655766,447326890,-1431741786,357935773,1990874452,1747613,1990890496,1747605,1454023936,22697386,-1432966848,27935066,-1543411136,27934746,-1543411136,22697301,1414899008,1742080,5936384,1485312,5936384,1399040,5854208,349440,5586944]],ta=[],Wa=[],Xa=2.5*m,va=0,Ya=0;K("Beaming Aliens",4,function(){B(3,function(a){var b=
Cb(ua[a],32,ua[a].length/2,1<<a),c=Z(64*m,2*b.height*m);D(c).drawImage(b,0,0,c.width,c.height);ua[a]=c});for(var a=0;6>a;a++){Wa.push({x:20*e,y:e*(30+20*a)});for(var b=a>>1,c=0;12>c;c++)ta.push({fa:c,ga:a,pa:12*a+c,ea:b,W:ua[b].width,k:ua[b].height,Q:10})}aa()});var Ib,Za={};K("Painting Sky",10,function(){Ib=Ta(Ha,s,function(a){var b=0;B(Ha,function(){a[b++]=40;a[b++]=50;a[b++]=80;a[b++]=255});var c=210/s,d=4*Ha;X(Ha,s-1,function(){a[b]=(a[b-4]+a[b-d]+(da(2)|0)>>1)+(ca()<c?da(2)|0:0);b++;a[b]=(a[b-
4]+a[b-d]+(da(2)|0)>>1)+(ca()<c?da(2)|0:0);b++;a[b]=(a[b-4]+a[b-d]+(da(2)|0)>>1)+(ca()<c?da(2)|0:0);b++;a[b++]=255})});lb.fillStyle=lb.createPattern(Ib,"repeat-x");lb.fillRect(0,0,l,s);aa()});K("Blowing Clouds",10,function(){for(var a=6;30>a;a++){Za[a]=[];for(var b=30+4*a,c=0;c<Eb;c++){var d=Z(120,60),e=D(d);e.scale(2,1);for(var g=0;4>g;g++){var h=n(22.5,37.5)|0,q=n(22.5,37.5)|0,l=e.createRadialGradient(h,q,15,h,q,22.5),k=b+(n(-10,10)|0),m="rgba("+k+","+k+","+k+",0)";l.addColorStop(0,"rgba("+k+","+
k+","+k+",.8)");l.addColorStop(1,m);e.fillStyle=l;e.arc(h,q,30,0,x);e.fill()}Za[a].push(d)}}aa()});var k=Db,$a,Jb,Kb,Ia,ab,Lb,Mb,Nb,Ob,Ja;K("Chiseling Rocks",10,function(){function a(a,b){return function(c,d){return ha(b,a(c,d))}}$a=Ea(E(k,k,120,180,-3,3,-3,3,-1,200),E(k,k,70,130,-3,3,-3,3,-1,100),E(k,k,40,80,-3,3,-3,3,-2,100));var b=Ea(E(k,k,60,180,-1,2,1,3,-2,100),E(k,k,70,220,-1,2,1,3,-1,200),E(k,k,70,100,-1,2,1,3,-3,100)),c=Ea(a(E(k,k,60,110,1,3,-3,0,-4,100),20),a(E(k,k,80,160,1,3,-3,0,-2,500),
30),a(E(k,k,20,40,1,3,-3,0,4,1E3),80));Jb=H.createPattern(b,"repeat");Ga(D(b),function(a){return Fa(a.k,a.F/4,.4*a.b)});Kb=H.createPattern(b,"repeat");Ga(D(c),function(a){return Fa(a.k,.1*a.F,Q(.75,1,1.1*a.b))});Mb=H.createPattern(c,"repeat");aa()});K("Chiseling Rocks",10,function(){ab=Ea(E(k+7,k+7,80,140,-2,4,-2,4,2,300),E(k+7,k+7,80,140,-2,4,-2,4,-1,300),E(k+7,k+7,40,80,-2,4,-2,4,-2,300));var a=Ea(E(k,k,30,50,1,4,1,4,5,100),E(k,k,120,180,1,4,1,4,-2,200),E(k,k,150,220,1,4,1,4,-2,200));Ia=D(ab);Ja=
D($a);var b=D(a);Ga(b,function(a){return Fa(a.k,.3*a.F,.5*a.b)});P([Ia,Ja,b],function(a){ib(a,a,[.1,.1,.1,.1,.2,.1,.1,.1,.1])});Nb=H.createPattern(a,"repeat");aa()});K("Chiseling Rocks",10,function(){hb(Ia);Ga(Ia,function(a){return Fa(a.k,.3*a.F,.5*a.b)});hb(Ja);Ga(Ja,Xb());Ob=H.createPattern($a,"repeat");Lb=H.createPattern(ab,"repeat");$a=ab=Ia=Ja=0;aa()});var Va,U=l+400,V=s+400,ba=[],ka=0,gb=[],Ba=[];K("Digging Caves",10,function(){I.ca(1);var a=Z(2048,1E3),b=D(a);b.fillStyle="rgba(0,0,0,0)";b.fillRect(0,
0,2048,1E3);b.shadowColor="#400000";b.shadowBlur=0;b.shadowOffsetX=0;b.shadowOffsetY=-14;b.fillStyle="#600000";var c=[];c[2048]=0;(function(a,b,c){var d=a.length-1;c=Math.pow(2,-c);b*=c;var e=d/2;for(a[0]=a[d]=0;e;){for(var f=e;f<d;f+=2*e)a[f]=b*n(.2,1)+(a[f-e]+a[f+e])/2;b*=c;e>>=1}})(c,1500,.7);b.beginPath();b.lineTo(0,1E3);B(2048,function(a){c[a]+=400*kb(C(2*x*a/2048))*kb(C(ma+3*x*a/2048));c[a]*=1/(1+kb(.001*(a-1024)));b.lineTo(a,1E3-c[a])});b.lineTo(2049,1E3);b.closePath();b.fill();b.clip();b.shadowOffsetY=
3;b.lineWidth=22;b.shadowColor="#800000";b.beginPath();b.strokeStyle="#a00000";b.moveTo(0,600);b.lineTo(2048,900);b.moveTo(0,900);b.lineTo(2048,600);b.moveTo(204.8,0);b.lineTo(1433.6,810);b.moveTo(1843.2,0);b.lineTo(614.4,810);b.stroke();b.beginPath();b.fillStyle="#a00000";b.arc(204.8,750,30,0,x);b.arc(1843.2,750,30,0,x);b.fill();Va=new Uint8Array(2048E3);var d=b.getImageData(0,0,2048,1E3).data,e=0,g=0;X(2048,1E3,function(a,b){var k=d[e+=4]>>5,l=b/1E3;.4>l&&(k==La||k==yb)&&b<1E3-c[a]+100*(.4-l)&&
(k=ra);Va[g++]=k})});B(2,function(){var a=Z(U,V);gb.push(a);Ba.push(a.getContext("2d"))});B(80,function(){ba.push(n(-(e>>1),1+(e>>1))|0)});var Ab={},$=1E7,fa=1E7,Ca=-1E7,Da=-1E7,N=0,La=2,yb=3,Wb=4,Ua=6,ra=7;K("Digging Caves",10,function(){Ab=[0,Kb,Jb,Lb,Nb,Ob,"#333",Mb];aa()});var na=1E7,oa=0,Y;K("Waving waves",10,function(){B(ya-Aa.length,function(){aa()});Y=null});y.strokeStyle="rgba(200,200,250,0.3)";y.lineWidth=3;var wb=10,v=[];B(l/wb+1,function(){v.push({height:z,h:0})});y.globalAlpha=.9;var xa=
0,sb,G=la(350,{position:t(),e:90,B:10,duration:-1,m:[200,45,10,0],p:[40,40,40,0],n:t(0,.03),q:1,r:t(4,6),g:12,G:12,size:30*m|0,i:75*m|0,J:"rgba(40,20,10,0)",w:5*m,speed:4*m,A:1*m,o:140,l:[220,188,88,1],H:[32,35,38,0],I:function(a){if(a.position.y>z)a.c=0,tb(a);else{var b=(a.position.x/e|0)+1,c=(a.position.y/e|0)+1,d=R(b,c);d==La||d==ra?(a.c=0,J.d(a.position.x,a.position.y),d==ra?(M.speed=3*m,M.d(a.position.x,a.position.y),sa(b,c,N)):sa(b,c,.8>ca()?1:N)):ja(d)&&(a.position.sub(a.direction),a.direction.y*=
-1)}},s:ub,f:.1}),Oa=la(250,{position:t(),e:0,B:360,duration:-1,m:[230,150,150,.1],p:[20,20,20,.1],n:t(0,.4),q:2.5,r:t(3,3),g:82,G:12,size:8*m|0,i:2*m|0,speed:5*m,A:1*m,l:[250,160,160,1],H:[5,5,5,0],s:ub,f:.1}),Ma=la(100,{j:!1,n:0,position:t(),l:[200,50,50,.8],speed:e,q:3,V:function(a,b){a.moveTo(b.aa.x,b.aa.y);a.lineTo(b.position.x,b.position.y)},I:function(a){if(!(0>a.c)){a.aa=Zb(a.position,a.direction);for(var b=0;6>b&&a.c;b++){var c=a.position.x,d=a.position.y;d>z&&(a.c*=.8,tb(a));P(ta,function(b){var e=
b.x-b.W/2,g=b.y-b.k/2;c>e&&c<e+b.W&&d>g&&d<g+b.k&&(a.c=0,Oa.d(c,d),b.Q--)});var g=(c/e|0)+1,k=(d/e|0)+1,h=R(g,k);if(h==La||h==ra)if(J.d(c,d),h==ra)M.speed=3*m,M.d(c,d),sa(g,k,N);else{a.c=0;sa(g,k,.8>ca()?1:N);continue}else if(ja(h)){a.c=0;Oa.d(c,d);continue}a.position.add(a.direction)}a.c||(a.position.sub(a.direction),a.c=1E-5)}}}),db=la(Fb,{j:!0,position:t(d.a.x,-60*e),e:90,B:180,duration:-1,m:[240,240,250,.1],p:[10,10,10,0],n:t(0,.02),q:25,r:t(.7*l,5*e),g:12,G:12,size:20*m|0,i:10*m|0,w:2*m,J:"rgba(40,40,40,0)",
speed:.2*m,A:.1,l:[220,220,230,1],H:[22,22,22,0],s:Sa,I:function(a,b){a.position.x+=C(x*b/50+.001*Ka)},f:.4}),ea=la(350,{j:!1,position:t(ia/2,-125*e),e:0,duration:-1,n:0,q:10,o:-1,r:t(ia/2,10*e),size:280*m|0,i:280*m|0,w:30,speed:.2*m,A:.1,s:Sa,f:.3,I:function(a){a.c=1E3;a.position.x+=ia;a.position.x%=ia},V:function(a,b){var c=b.size|0,d=b.position.x|0,e=b.position.y|0;if(!b.Z){var g=100*b.f|0,g=Q(6,29,g),h=Za[g].shift();Za[g].push(h);b.Z=h}a.drawImage(b.Z,d,e,2*c,c)}}),J=la(250,{j:!1,position:t(),
e:-90,B:20,duration:10,m:[40,40,40,0],p:[10,10,10,0],n:t(0,-.25),q:.8,U:.2,r:t(2,2),g:12,G:12,size:45*m|0,i:60*m|0,w:6*m,J:"transparent",speed:1.2*m,A:.1,l:[220,220,220,1],H:[22,22,22,0],s:Sa,f:.8}),M=la(250,{j:!1,position:t(),e:-90,B:80,duration:.15,m:[40,70,140,.2],p:[10,10,10,0],n:t(0,.5),q:1.2,U:.2,r:t(16,4),g:72,G:12,size:14,i:8,w:1,o:100,speed:2*m,J:"rgba(140,140,255,0)",A:.5,l:[60,80,120,.9],H:[12,12,12,0],I:function(a){a.position.y>z&&0<a.direction.y&&(a.c=0)},s:Sa,f:.05}),Ka=0,Pb=.4*Qa,cb=
0;K("Almost Ready...",10,function(){B(ea.R,function(){.22>ca()&&(ea.position.y+=2,ea.f*=.98);var a=ea.d();a.i=a.size;a.X=0});H.font="20px Verdana";H.textAlign="center";H.fillStyle="#fff"});K("Ready!",1,function(){F.getElementById("overlay").style.display="none";Ra(nb)});mb()})();
