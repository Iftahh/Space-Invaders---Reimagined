(function(){function ob(){if(0!=db.length){var a=db.shift(),b=a[1];E.getElementById("text").textContent=a[0];eb+=b;E.getElementById("pbar-in").style.width=2*eb+"px";a[2]();setTimeout(ob,0)}}function pb(a){var b=aa(3.5,(a-La)/32);La=a;a=(za/3|0)%Aa;var d=F[32]||F[87]||F[69]?1.65:.6;c.R=c.d>oa/2||c.d<-oa/2;if(F[37]||F[65]||F[83])c.b.x=ba(-10,c.b.x-d),c.F&&(c.R=!0);else if(F[39]||F[68]||F[70])c.b.x=aa(10,c.b.x+d),c.F&&(c.R=!1);!c.F&&c.ba&&(c.b.x+=qb(1.5,c.b.x,.02));G.j=!c.Q&&(F[32]||F[87]||F[69]);d=
c.a.y<y;c.b.scale(d?.99:.76);c.b.y=R(-10,20,c.b.y+(G.j?-.25:c.F?.8:.5));var h=c.b;c.a.add(s(h.x*b,h.y*b));c.d=Math.atan2(N+rb-c.a.y+.72*r,S+sb-c.a.x);var h=Math.cos(c.d)*e*25,k=z(c.d)*e*25;c.S=(c.S+k)/2;c.M=(c.M+h)/2;c.a.y>y&&(d&&(v[v.length*(1-(g/2-c.M)/g)|0].i=22*c.b.y,O.j=!0,O.position.x=c.a.x,O.position.y=c.a.y+r-8,O.speed=.75*c.b.y,O.n=20*A(c.b.y)),c.a.y>y+.5*t&&(c.a.y=0));c.a.x>ja+g&&(c.a.x=-g);c.a.x<-g&&(c.a.x=ja+g);a:{var d=T(c.a.x/e|0,(c.a.y-.4*r)/e|0),U=k=h=!1,f=0,p=0;c.ba=d==J||d==Ma||
1==d;0<c.b.x&&(f=r/4,p=-c.a.x%e);0>c.b.x&&(f=r/-4,p=-c.a.x%e+e);ka(T((c.a.x+f)/e|0,(c.a.y-.8*r)/e|0))&&(k=!0,ka(T((c.a.x+f)/e|0,(c.a.y-.6*r)/e|0))&&(h=!0));ka(T((c.a.x+f)/e|0,(c.a.y+2*e)/e|0))&&(U=!0,ka(T((c.a.x+f)/e|0,c.a.y/e|0))&&(h=!0));if(U||k)if(h&&(c.b.x*=-.3,c.a.x+=p),.2>A(c.b.y)?c.b.y=0:c.b.y*=0<c.b.y&&U||0>c.b.y&&k?-.3:.3,k&&(c.a.y+=e-c.a.y%e,h||(c.a.y+=e),c.b.x*=.2),U){c.a.y-=c.a.y%e;h&&(c.a.y-=e);c.F=!0;tb=0;break a}6<tb++&&(c.F=!1)}c.F?.3>A(c.b.x)?c.b.x=0:c.b.x*=.8:c.a.y<-20*e&&(c.Q=20);
0<c.Q&&c.Q--;Ba&&8>c.p?(Na.d=360*c.d/w,Na.e(c.a.x,c.a.y-.72*r),c.p++,8<=c.p&&(c.p+=4)):8<=c.p&&(c.p--,8>c.p&&(c.p=0));d=c.a.y<Tb;N=c.a.y-t/2+c.S|0;S=c.a.x-g/2+c.M|0;u.setTransform(1,0,0,1,-S,-N);x.setTransform(1,0,0,1,-S,-N);d&&(Oa.setTransform(1,0,0,1,-S,-N),fb.position.x=c.a.x-30*e);G.position.x=c.a.x-(c.R?-5:5);G.position.y=c.a.y-15;Ub(b);Na.update(b);Vb(b);G.update(b);Pa.update(b);O.update(b);K.update(b);d&&(fb.update(b),ga.update(b));x.clearRect(S,N,g,t);Oa.clearRect(S,N,g,t);u.clearRect(S,N,
g,t);u.save();u.globalCompositeOperation="lighter";G.B(u);u.restore();Pa.B(u);u.beginPath();Na.B(u);u.strokeStyle="rgba(250, 60, 60, .4)";u.lineWidth=7;u.stroke();u.lineWidth=2;u.strokeStyle="rgba(255,190,190,.9)";u.stroke();K.B(u);Wb(u);d&&(fb.B(Oa),ga.B(Oa));Qa&&(d=c.a,h=c.d,k=Qa,u.save(),u.translate(d.x-r/2,d.y-r),c.R&&(u.translate(r,0),u.scale(-1,1),h=oa-h),u.drawImage(k,0,0,r,r,0,0,r,r),u.translate(r/3+r/9,r/3),u.rotate(h),u.drawImage(k,r,0,r,r,-r/3,-r/3,r,r),u.restore());x.save();O.B(x);x.restore();
c.a.y>y-t&&(ub!=a&&(x.fillStyle=Ca[a],ub=a),Xb());y-=.01*b;y<Ra-1E3&&(y=Ra-10);1E7>P&&(Da[la].clearRect(P-pa,V-qa,ma-P-2,na-V-2),ra(Da[la],P,V,P-pa-1,V-qa-1,ma-P,na-V),P=V=1E7,ma=na=-1E7);var k=c.a.x+c.M,l=c.a.y+c.S,k=k-W/2,l=l-X/2,U=Da[la],b=k-pa;a=l-qa;d=A(b);h=A(a);if(d||h){if(d>W||h>X)pa=k,qa=l,ra(U,k,l,0,0,W,X);else if(200<d||200<h){pa=k;qa=l;var sa,L,m,gb,U=0;0>b?(sa=d,L=0):(sa=0,L=d);0>a?(m=h,gb=0):(gb=h,m=0);var n=W-d,q=X-h,f=1-la,p=Da[f];p.clearRect(0,0,W,X);p.drawImage(hb[la],L,gb,n,q,sa,
m,n,q);0>a?(ra(p,k,l,0,0,W,h),U=h,l+=h):ra(p,k,l+X-h,0,X-h,W,h);0>b?ra(p,k,l,0,U,d,X-h):(k+=W-d,ra(p,k,l,W-d,U,d,X-h));la=f;b=a=0}H.clearRect(0,0,g,t);H.drawImage(hb[la],200+b,200+a,g,t,0,0,g,t)}Sa(pb);za++;H.fillText("Wind: 1.5",g/2,50);c.Q&&H.fillText("Engine FROZEN!",g/2,t/2-100)}function vb(a){var b=a.position.x;K.e(b,a.position.y);if(a=v[v.length*(1-(b-S)/g)|0+(q(-1,2)|0)])a.i+=1}function qb(a,b,d){a-=b;return R(-10,10,A(a)*a*d)}function Ta(){return 1.5}function wb(){return c.ba?1.5:0}function Yb(a){return Ua(g,
t,function(b){var d=new Int8Array(g*t),h=new Int8Array(g*t),k=0;ha(g,t,function(b,f){d[k]=ta(5*(b-g/2)/(3*f/t+.6)+5*z(a+w*(b+2*f)/g)+3*z(a+2*w*(b+f)/g));h[k]=ta(5*(2*f/t+.6)*z(a+4*w*(b+f/2)/g)*z(a+3.5*w*(b+f)/g));k++});Zb(d,h,Y,b,g,t)})}function ca(){if(Ca.length<Aa){if(!Y){Y=[];for(var a=0,b=0;b<t;b++)for(var d=q(5,25)|0,h=q(10,35)|0,k=q(20,40)|0,c=0;c<g;c++){var f=q(25,50)|0,p=q(30,65)|0,l=q(70,120)|0;Y[a++]=20+(f+d>>1)+ta(5*z(b*w/10));Y[a++]=25+(p+h>>1)+ta(5*z(b*w/12));Y[a++]=30+(l+k>>1)+ta(8*
z(b*w/13));Y[a++]=255;d=f;h=p;k=l}a=[];xb({data:Y,width:g,height:t},a,[.1,.1,.1,.1,.2,.1,.1,.1,.1]);Y=a}Ca.push(x.createPattern(Yb(Ca.length*w/Aa),"repeat"))}}function Xb(){if(!(N+2*t<y)){x.translate(S,0);x.beginPath();x.moveTo(g,N+t);x.lineTo(0,N+t);var a=0;Q(v,function(b){x.lineTo(a,b.height+3*z((a-5.25*za)/322*w+4*z((a-3*za)/511*w)+4*z((a-1.5*za)/733*w)));a+=yb});x.closePath();x.fill();x.stroke()}}function Ub(a){var b=0;Q(v,function(d){d.i+=a*(-.04*(d.height-y)-.025*d.i);d.height+=d.i*a;b=ba(b,
A(d.i))});if(1<b){var d=[],h=[];B(zb,function(){for(var a=0;a<v.length;a++)0<a&&(d[a]=.25*(v[a].height-v[a-1].height),v[a-1].i+=d[a]),a<v.length-1&&(h[a]=.25*(v[a].height-v[a+1].height),v[a+1].i+=h[a]);for(a=0;a<v.length;a++)0<a&&(v[a-1].height+=d[a]),a<v.length-1&&(v[a+1].height+=h[a])})}}function ka(a){return a==Ea||a==Va||a==ua}function Ab(a,b){var d=Bb[T(a,b)];return void 0===d?Wa:d}function T(a,b){return 0>b?J:0>a?b>=1E3-.4*a?Ea:J:2048<=a?b>=1E3+.4*(a-2048)?Ea:J:1E3<=b?Ea:Z[2048*b+a]}function Cb(a,
b,d){for(var h=d*d,k={},c=0;c<d;c++){var f=Db(h-c*c),p=b-f,l=b+.2*f;ib(a+c,a-c,p,l,J,k);p=l;l=b+.6*f;ib(a+c,a-c,p,l,Eb,k);p=l;l=b+f;ib(a+c,a-c,p,l,Wa,k)}d+=2*e;P=aa(P,a-d);V=aa(V,b-d);ma=ba(ma,a+d);na=ba(na,b+d)}function ib(a,b,d,h,k,c){for(;d<h;d+=e)for(var f=2048*(d/e|0),f=[f+(a/e|0),f+(b/e|0)],p=0;2>p;p++){var l=f[p];if(!c[l]&&(c[l]=1,Z[l]!=Ea&&Z[l]!=J)){if(k==Eb&&(Z[l]!=Va||Z[l]!=Wa)||k==Wa&&Z[l]!=Va)k=J;Z[l]=k}}}function Xa(a,b,d){Z[2048*b+a]=d;a*=e;b*=e;d=2*e;P=aa(P,a-d);V=aa(V,b-d);ma=ba(ma,
a+d);na=ba(na,b+d)}function ra(a,b,d,h,k,c,f){var p=c/e|0,l=f/e|0,sa=b/e|0;b=d/e|0;var L=pa;d=qa;a.save();a.translate(-L,-d);a.rect(L+h,d+k,c,f);a.clip();h-=e;h-=h%e;k-=e;k-=k%e;for(var p=p+4,l=l+2,L=L+h,m=d+k,g=b;g<b+l;g++){var r=Ab(sa,g),n=0;B(p,function(b){var d=Ab(sa+b,g);if(d!=r||b>=p-1){if(r){a.fillStyle=r;a.beginPath();a.moveTo(L+n*e+da[A(11*n+3*g)%80],m+da[A(9*n+7*g)%80]);for(var h=n+1;h<=b;h++)a.lineTo(L+h*e+da[A(11*h+3*g)%80],m+da[A(9*h+7*g)%80]);h--;for(a.lineTo(L+h*e+da[A(11*h+3*(g+1))%
80],1+m+e+da[A(9*h+7*(g+1))%80]);h>=n;h--)a.lineTo(L+h*e+da[A(11*h+3*(g+1))%80],1+m+e+da[A(9*h+7*(g+1))%80]);a.closePath();a.fill()}n=b}r=d});m+=e}a.restore()}function Fa(a,b,d){return Ua(n,n,function(h){var k=0;ha(n,n,function(c,f){h[k++]=a(c,f);h[k++]=b(c,f);h[k++]=d(c,f);h[k++]=255})})}function $b(){return function(a){var b=aa(a.l,.4);return Ga((b+.08)/2,(a.H+.31)/2,(a.b+.16)/2)}}function Vb(a){ac(a);Q(va,function(b,d){5>b.L&&.3>ea()&&K.e(b.x,b.y);if(0>=b.L||b.y>y+20*e)if(b.b=aa(3*e,(b.b||0)+.3),
b.y+=b.b*a,.6>ea()&&K.e(b.x,b.y),ka(T(b.x/e|0,b.y/e|0))||b.y>y+20*e)G.d=-90,G.speed*=2,K.speed*=3,B(50,function(){G.e(b.x+(q(-3*e,3*e)|0),b.y+(q(-3*e,3*e)|0));K.e(b.x+(q(-3*e,3*e)|0),b.y+(q(-3*e,3*e)|0))}),G.d=90,G.speed/=2,K.speed/=3,va.splice(d,1),Cb(b.x,b.y,32)})}function Wb(a){Q(va,function(b){a.drawImage(wa[b.ga],b.x-b.Y/2,b.y-b.l/2)})}function ac(a){var b=!1;0<xa?(xa-=a,Q(Ya,function(b){b.y+=a*A(Za)/2;b.y>y&&(b.y=60*e)}),0>=xa&&($a=40,Za=R(-10*m,10*m,-1.05*Za))):($a-=a,Q(Ya,function(b){b.x+=
Za*a}));Q(va,function(a){var h=Ya[a.ga];a.x=h.x+e*(20*a.ha+6*z(10*(a.ha+3*a.ia)/w+.001*La));if(!(0>=a.L)){a.y=h.y+a.ia*e*20;if(a.x<-20*e||a.x>ja+20*e)b=!0;T(a.x/e|0,a.y/e|0)!=J&&(b=!0,a.L--,Cb(a.x,a.y,16))}});b&&0>=xa&&0>=$a&&(xa=20)}function Fb(a){F[a.keyCode]="keydown"==a.type;(32==a.keyCode||37<=a.keyCode&&40>=a.sa)&&a.preventDefault()}function ia(a,b){var d={D:0,v:0,f:.3,J:function(){},X:function(a,b){var d=b.size,f=d>>1,c=b.position.x|0,l=b.position.y|0,e=a.createRadialGradient(c,l,b.fa,c,l,
f);e.addColorStop(0,b.ka);e.addColorStop(1,b.la);a.fillStyle=e;a.fillRect(c-f,l-f,d,d)},na:function(a,b){this.da({T:a,G:[],$:[],j:!0,r:s(0,0),k:s(0,.3),elapsedTime:0,duration:-1,n:0,A:0,W:0,w:0,t:0,u:0,C:0,A:0});this.da(b||{})},da:function(a){for(var b in a)this[b]=a[b];this.h||(this.h=this.size);this.n||(this.n=this.T/this.q)},e:function(a,b){if(this.G.length>=this.T)return null;var d=this.$.shift()||{position:s()};this.oa(d,a||this.position.x,b||this.position.y);this.G.push(d);return d},oa:function(a,
b,d){a.position.x=b+this.r.x*q(-1,1);a.position.y=d+this.r.y*q(-1,1);b=(this.d+this.w*q(-1,1))*(oa/180);b=s(Math.cos(b),z(b));d=this.speed+this.u*q(-1,1);a.direction=s(b.x*d,b.y*d);a.size=this.size+this.t*q(-1,1);a.size=1>=a.size?1:a.size|0;a.h=this.h+this.t*q(-1,1);a.f=this.f;a.c=this.q+this.W*q(-1,1);a.g=this.g+this.C*q(-1,1);a.g=100<a.g?100:0>a.g?0:a.g;a.fa=a.size/200*a.g|0;if(this.m){var f=[this.m[0],this.m[1],this.m[2],this.m[3]];if(this.I){var c=this;B(4,function(a){f[a]+=c.I[a]*q(-1,1)})}this.o&&
(b=[this.o[0]+this.s[0]*q(-1,1),this.o[1]+this.s[1]*q(-1,1),this.o[2]+this.s[2]*q(-1,1),this.o[3]+this.s[3]*q(-1,1)],a.K=[(b[0]-f[0])/a.c,(b[1]-f[1])/a.c,(b[2]-f[2])/a.c,(b[3]-f[3])/a.c]);a.color=f}a.Z=(a.h-a.size)/a.c},update:function(a){a/=31;if(this.j&&0<this.n){var b=1/this.n;for(this.A+=a;this.G.length<this.T&&this.A>b;)this.e(),this.A-=b;-1!=this.duration&&(this.elapsedTime+=a,this.duration<this.elapsedTime&&this.qa())}var d=this;Q(this.G,function(b,c){if(0<b.c){if(d.k){var k=b.direction,e=
d.k;b.direction=s(k.x+e.x,k.y+e.y)}d.v&&(b.direction.x+=qb(d.v(b),b.direction.x,b.f));b.position.add(b.direction);b.c-=a;d.J(b,c)}0<b.c?(b.size+=b.Z*a,b.fa=b.size/200*b.g|0,b.K&&(b.color[0]+=b.K[0]*a,b.color[1]+=b.K[1]*a,b.color[2]+=b.K[2]*a,b.color[3]+=b.K[3]*a),b.color&&(k="rgba("+[R(0,255,b.color[0]|0),R(0,255,b.color[1]|0),R(0,255,b.color[2]|0)].join(),b.la=d.D||k+",0)",b.ka=k+","+R(0,1,b.color[3].toFixed(2))+")")):(d.G.splice(c,1),d.$.push(b))})},qa:function(){this.j=!1;this.A=this.elapsedTime=
0},B:function(a){var b=this;Q(this.G,function(d){b.X(a,d)})}};d.na(a,b);return d}function bc(a,b){return s(a.x-b.x,a.y-b.y)}function s(a,b){return{x:a||0,y:b||0,scale:function(a){this.x*=a;this.y*=a},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=a.x;this.y-=a.y}}}function Gb(a,b,d,h){return Ua(b,d,function(c){for(var e=0,f=0;f<d*b;){for(var p=a[e++],l=0;16>l;l++){var g=255*(p&3)/3|0,m=4*(f+15-l),p=p>>2;c[m++]=~h&1?g/2:g;c[m++]=~h&2?g/2:g;c[m++]=~h&4?g/2:g;c[m++]=0==g?0:255}f+=16}})}
function jb(a,b){var d=a.canvas.width,c=a.canvas.height,k=$(d,c),e=kb(a,C(k),[-1,0,0,0,0,0,-2,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0]),f=$(d,c),p=kb(a,C(f),[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,-2,0,0,0,0,0,-1]),l=0,e=b?e:p,g=e.data,p=k,m=f;B(d*c,function(){B(3,function(){g[l]=255-g[l];l++});l++});b&&(p=f,m=k);C(m).putImageData(e,0,0);a.globalCompositeOperation="darken";a.drawImage(m,0,0,d,c);a.globalCompositeOperation="lighter";a.drawImage(p,0,0,d,c)}function kb(a,b,d){var c=lb(a);a=(b||a).createImageData(c.width,
c.height);xb(c,a.data,d);b&&b.putImageData(a,0,0);return a}function xb(a,b,d){var c=ta(Db(d.length)),k=c/2|0,e=a.data,f=a.width,p=a.height,l=0;ha(f,p,function(a,g){var m=0,n=0,r=0,q=e[4*(g*f+a)+3];ha(c,c,function(b,l){var q=g+l-k,s=a+b-k,q=q+10*p,q=q%p,s=s+10*f,s=s%f,q=4*(q*f+s),s=d[l*c+b];m+=e[q]*s;n+=e[q+1]*s;r+=e[q+2]*s});b[l++]=m;b[l++]=n;b[l++]=r;b[l++]=q})}function Zb(a,b,d,c,k,e){var f=0,p=0,l=20*k,g=20*e;ha(k,e,function(m,q){var n=a[p],r=b[p];p++;n=4*((m-n+l)%k+(q-r+g)%e*k);c[f++]=d[n++];
c[f++]=d[n++];c[f++]=d[n++];c[f++]=d[n]})}function Ha(a,b){var d=lb(a),c=d.data,k=0;B(d.width*d.height,function(){var a=c[k],d=c[k+1],e=c[k+2],a=a/255,d=d/255,e=e/255,l,g,m,n=Math.max(a,d,e),q=n-Math.min(a,d,e);0==q?a=m=0:(m=q/n,l=(n-a)/6/q+.5,g=(n-d)/6/q+.5,e=(n-e)/6/q+.5,a=a===n?e-g:d===n?1/3+l-e:2/3+g-l,0>a?a++:1<a&&a--);m=b({l:a,H:m,b:n});c[k++]=m.pa;c[k++]=m.ma;c[k++]=m.ja;k++});a.putImageData(d,0,0)}function Ga(a,b,d){void 0===b&&(b=a.H,d=a.b,a=a.l);var c=6*a|0,k=6*a-c;a=d*(1-b);var e=d*(1-
k*b);b=d*(1-(1-k)*b);var f,p,l;switch(c%6){case 0:f=d;p=b;l=a;break;case 1:f=e;p=d;l=a;break;case 2:f=a;p=d;l=b;break;case 3:f=a;p=e;l=d;break;case 4:f=b;p=a;l=d;break;case 5:f=d,p=a,l=e}return{pa:255*f|0,ma:255*p|0,ja:255*l|0}}function D(a,b,d,c,e,g,f,p,l,m){function n(s,t){var u=t*a+s;try{return r[u]?r[u]:r[u]=fa(m)|0?R(0,255,(fa(l)|0)+n((a+s-(q(e,g)|0))%a,(b+t-(q(f,p)|0))%b)):q(d,c)|0}catch(v){return r[u]=q(d,c)|0}}var r=[];return n}function M(a,b,d){db.push([a,b,d])}function Ua(a,b,d){a=$(a,b);
b=C(a);var c=lb(b);d(c.data,b,a);b.putImageData(c,0,0);return a}function lb(a){return a.getImageData(0,0,a.canvas.width,a.canvas.height)}function q(a,b){return a+fa(b-a)}function fa(a){return ea()*a}function mb(a){return a*a}function C(a){return a.getContext("2d")}function $(a,b){var d=E.createElement("canvas");d.width=a||g;d.height=b||t;return d}function ha(a,b,d){for(var c=0;c<b;c++)for(var e=0;e<a;e++)d(e,c)}function R(a,b,d){return aa(b,ba(a,d))}function Q(a,b){for(var d=a.length-1;0<=d&&!b(a[d],
d);d--);}function B(a,b){for(var d=0;d<a;d++)b(d)}function ea(){var a=2091639*I.U+I.N*I.O;I.U=I.V;I.V=I.P;I.N=a|0;I.P=a-I.N;return I.P}var Ia=250,Hb=400,Aa=10,zb=8,Ib=1,Jb=450,e=7,g=1E7,t=0,m=1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(Ia=200,Hb=300,Aa=5,zb=4,Ib=1,Jb=300);for(;(t>innerHeight||g>innerWidth)&&3<e;)e--,m=e/7,g=1715*m|0,t=1400*m|0;var ja=2048*e,Ra=1E3*e,y=Ra-150,Ca=[],S=0,N=0,I={ea:function(a){a=1>a?1/a:a;this.U=(a>>>0)*this.O;a=69069*
a+1>>>0;this.V=a*this.O;this.P=(69069*a+1>>>0)*this.O;this.N=1;return this},U:0,V:0,P:0,N:0,O:2.3283064365386963E-10};I.ea(5);var Kb=[],ya=[],E=document;E.getElementById("overlay").style.width=g+"px";E.getElementById("overlay").style.left=(-g>>1)+"px";var cc=E.getElementById("canvas_cont");B(5,function(){var a=$();a.style.left=(-g>>1)+"px";cc.appendChild(a);Kb.push(a);ya.push(C(a))});var nb=ya[0],Oa=ya[1],H=ya[2],u=ya[3],x=ya[4],A=Math.abs,aa=Math.min,ba=Math.max,z=Math.sin,ta=Math.round,Db=Math.sqrt,
oa=Math.PI,w=2*oa,Sa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;if(!Sa)var Lb=0,Sa=function(a){var b=Date.now(),d=ba(0,16-(b-Lb));window.setTimeout(function(){a(b+d)},d);Lb=b+d};var db=[],c={a:s(50*e,900*e),b:s(),S:0,M:0,p:0},Qa=0,r=64*m|0;M("Chasing Sprites",4,function(){var a=Gb([0,0,0,44016,0,0,176124,0,0,152917,0,0,177556,0,0,174826,0,1024,174680,5119,-2096,174752,1365,1431655764,175088,5467,-445688492,437244,86,-50380800,437247,6,-1124253696,
1747967,1,-1359396864,437247,0,1788870656,1485823,0,444596224,1485823,0,83886080,1485567,0,0,1747711,0,0,1485804,0,0,48175,0,0,15407,0,0,11307,0,0,11304,0,0,11307,0,0,11051,0,0],48,24),b=$(2*r,r),b=C(b);b.drawImage(a,0,0,2*r,r);jb(b,!0);Qa=$(2*r,r);var a=C(Qa),d=b.getImageData(0,0,2*r,r).data,b=a.createImageData(2*r,r),c=b.data,e=0;ha(2*r,r,function(){c[e]=d[e];e++;c[e]=d[e];e++;c[e]=d[e]/2;e++;c[e]=d[e];e++});a.putImageData(b,0,0);ca()});var tb=0,F={};E.onkeydown=Fb;E.onkeyup=Fb;E.body.addEventListener("touchmove",
function(a){a.preventDefault()},!1);var sb=0,rb=0,Ba=0;E.onmousemove=function(a){var b=Kb[1].getBoundingClientRect();sb=a.clientX-b.left;rb=a.clientY-b.top};E.onmousedown=function(a){Ba|=1<<a.button};E.onmouseup=function(a){Ba&=~(1<<a.button)};var wa=[[47,-67108864,42,-1442840576,170,-1442840576,170,-1442840576,11946,-1430781952,10922,-1431568384,9898,-1431830528,785066,-1431314432,682666,-1431658496,956074,-1431916544,9278826,-1454001664,43423066,-1453932672,44734294,-1512658240,40539994,-1512658240,
40539482,-1453938048,44737898,-1453675904,40544917,1521134208,39496277,1437160832,11183735,2006624768,9813,1436024832,9821,-577110016,632149,1448779776,693338,-1457868800,692377,1761976320,6963221,1442950784,111486608,93350592,127149712,94378560,23864896,26219968,10488192,6294016],[770048,1032192,704512,1024E3,688128,1024E3,698368,15376384,698880,65699840,11776,48758784,10752,48758784,961194,-357924864,961194,-1431576576,961194,-1431642112,16411306,-1432950272,66737834,-1437159936,65689002,-1453937152,
44727658,-1510560256,-22381142,-1443189848,-22369622,-1431655432,-1096111446,-1431655768,-1431655766,-1431660888,-1436898731,1437247144,-1458918787,2108318120,-1458918742,-1431678552,-1458918742,-1431662172,-1459191808,692644,1762033664,692564,-1794790828,-1788198312,67201636,1520762880,27300,1519648768,5476,-1789394944,10836,-1431830528],[682,-1434451968,3071,-1414529024,16362,-1430519808,44760746,-1431655808,44739242,-1431655552,48933546,-1431654464,732605098,-1431655432,1051372202,-1431655430,
984263338,-1431655686,715806378,-1433032006,715806058,-1454003542,715825002,-1443452246,715824986,-1510561110,715827882,-1431655766,1789569706,-1431655766,447326890,-1431741786,357935773,1990874452,1747613,1990890496,1747605,1454023936,22697386,-1432966848,27935066,-1543411136,27934746,-1543411136,22697301,1414899008,1742080,5936384,1485312,5936384,1399040,5854208,349440,5586944]],va=[],Ya=[],Za=2.5*m,xa=0,$a=0;M("Beaming Aliens",4,function(){B(3,function(a){var b=Gb(wa[a],32,wa[a].length/2,1<<a),
d=$(64*m,2*b.height*m);C(d).drawImage(b,0,0,d.width,d.height);wa[a]=d});for(var a=0;6>a;a++){Ya.push({x:20*e,y:e*(30+20*a)});for(var b=a>>1,d=0;12>d;d++)va.push({ha:d,ia:a,ra:12*a+d,ga:b,Y:wa[b].width,l:wa[b].height,L:10})}ca()});var Mb,ab={};M("Painting Sky",10,function(){Mb=Ua(Ia,t,function(a){var b=0;B(Ia,function(){a[b++]=40;a[b++]=50;a[b++]=80;a[b++]=255});var d=210/t,c=4*Ia;ha(Ia,t-1,function(){a[b]=(a[b-4]+a[b-c]+(fa(2)|0)>>1)+(ea()<d?fa(2)|0:0);b++;a[b]=(a[b-4]+a[b-c]+(fa(2)|0)>>1)+(ea()<
d?fa(2)|0:0);b++;a[b]=(a[b-4]+a[b-c]+(fa(2)|0)>>1)+(ea()<d?fa(2)|0:0);b++;a[b++]=255})});nb.fillStyle=nb.createPattern(Mb,"repeat-x");nb.fillRect(0,0,g,t);ca()});M("Blowing Clouds",10,function(){for(var a=6;30>a;a++){ab[a]=[];for(var b=30+4*a,d=0;d<Ib;d++){var c=$(120,60),e=C(c);e.scale(2,1);for(var g=0;4>g;g++){var f=q(22.5,37.5)|0,p=q(22.5,37.5)|0,l=e.createRadialGradient(f,p,15,f,p,22.5),m=b+(q(-10,10)|0),n="rgba("+m+","+m+","+m+",0)";l.addColorStop(0,"rgba("+m+","+m+","+m+",.8)");l.addColorStop(1,
n);e.fillStyle=l;e.arc(f,p,30,0,w);e.fill()}ab[a].push(c)}}ca()});var n=Hb,bb,Nb,Ob,Ja,cb,Pb,Qb,Rb,Sb,Ka;M("Chiseling Rocks",10,function(){function a(a,b){return function(d,c){return ba(b,a(d,c))}}bb=Fa(D(n,n,120,180,-3,3,-3,3,-1,200),D(n,n,70,130,-3,3,-3,3,-1,100),D(n,n,40,80,-3,3,-3,3,-2,100));var b=Fa(D(n,n,60,180,-1,2,1,3,-2,100),D(n,n,70,220,-1,2,1,3,-1,200),D(n,n,70,100,-1,2,1,3,-3,100)),d=Fa(a(D(n,n,60,110,1,3,-3,0,-4,100),20),a(D(n,n,80,160,1,3,-3,0,-2,500),30),a(D(n,n,20,40,1,3,-3,0,4,1E3),
80));Nb=H.createPattern(b,"repeat");Ha(C(b),function(a){return Ga(a.l,a.H/4,.4*a.b)});Ob=H.createPattern(b,"repeat");Ha(C(d),function(a){return Ga(a.l,.1*a.H,R(.75,1,1.1*a.b))});Qb=H.createPattern(d,"repeat");ca()});M("Chiseling Rocks",10,function(){cb=Fa(D(n+7,n+7,80,140,-2,4,-2,4,2,300),D(n+7,n+7,80,140,-2,4,-2,4,-1,300),D(n+7,n+7,40,80,-2,4,-2,4,-2,300));var a=Fa(D(n,n,30,50,1,4,1,4,5,100),D(n,n,120,180,1,4,1,4,-2,200),D(n,n,150,220,1,4,1,4,-2,200));Ja=C(cb);Ka=C(bb);var b=C(a);Ha(b,function(a){return Ga(a.l,
.3*a.H,.5*a.b)});Q([Ja,Ka,b],function(a){kb(a,a,[.1,.1,.1,.1,.2,.1,.1,.1,.1])});Rb=H.createPattern(a,"repeat");ca()});M("Chiseling Rocks",10,function(){jb(Ja);Ha(Ja,function(a){return Ga(a.l,.3*a.H,.5*a.b)});jb(Ka);Ha(Ka,$b());Sb=H.createPattern(bb,"repeat");Pb=H.createPattern(cb,"repeat");bb=cb=Ja=Ka=0;ca()});var Z,W=g+400,X=t+400,da=[],la=0,hb=[],Da=[];M("Digging Caves",10,function(){I.ea(1);var a=$(2048,1E3),b=C(a);b.fillStyle="rgba(0,0,0,0)";b.fillRect(0,0,2048,1E3);b.shadowColor="#400000";b.shadowBlur=
0;b.shadowOffsetX=0;b.shadowOffsetY=-14;b.fillStyle="#600000";var d=[];d[2048]=0;(function(a,b,d){var c=a.length-1;d=Math.pow(2,-d);b*=d;var e=c/2;for(a[0]=a[c]=0;e;){for(var h=e;h<c;h+=2*e)a[h]=b*q(.2,1)+(a[h-e]+a[h+e])/2;b*=d;e>>=1}})(d,1500,.7);b.beginPath();b.lineTo(0,1E3);B(2048,function(a){d[a]+=400*mb(z(2*w*a/2048))*mb(z(oa+3*w*a/2048));d[a]*=1/(1+mb(.001*(a-1024)));b.lineTo(a,1E3-d[a])});b.lineTo(2049,1E3);b.closePath();b.fill();b.clip();b.shadowOffsetY=3;b.lineWidth=22;b.shadowColor="#800000";
b.beginPath();b.strokeStyle="#a00000";b.moveTo(0,600);b.lineTo(2048,900);b.moveTo(0,900);b.lineTo(2048,600);b.moveTo(204.8,0);b.lineTo(1433.6,810);b.moveTo(1843.2,0);b.lineTo(614.4,810);b.stroke();b.beginPath();b.fillStyle="#a00000";b.arc(204.8,750,30,0,w);b.arc(1843.2,750,30,0,w);b.fill();Z=new Uint8Array(2048E3);var c=b.getImageData(0,0,2048,1E3).data,e=0,m=0;ha(2048,1E3,function(a,b){var l=c[e+=4]>>5,g=b/1E3;.4>g&&(l==Ma||l==Va)&&b<1E3-d[a]+100*(.4-g)&&(l=ua);Z[m++]=l})});B(2,function(){var a=
$(W,X);hb.push(a);Da.push(a.getContext("2d"))});B(80,function(){da.push(q(-(e>>1),1+(e>>1))|0)});var Bb={},P=1E7,V=1E7,ma=-1E7,na=-1E7,J=0,Ma=2,Va=3,Wa=4,Eb=5,Ea=6,ua=7;M("Digging Caves",10,function(){Bb=[0,Ob,Nb,Pb,Rb,Sb,"#333",Qb];ca()});var pa=1E7,qa=0,Y;M("Waving waves",10,function(){B(Aa-Ca.length,function(){ca()});Y=null});x.strokeStyle="rgba(200,200,250,0.3)";x.lineWidth=3;var yb=10,v=[];B(g/yb+1,function(){v.push({height:y,i:0})});x.globalAlpha=.9;var za=0,ub,G=ia(350,{position:s(),d:90,w:10,
duration:-1,o:[200,45,10,0],s:[40,40,40,0],k:s(0,.03),q:1,r:s(4,6),g:12,C:12,size:30*m|0,h:75*m|0,D:"rgba(40,20,10,0)",t:5*m,speed:4*m,u:1*m,n:140,m:[220,188,88,1],I:[32,35,38,0],J:function(a){if(a.position.y>y)a.c=0,vb(a);else{var b=(a.position.x/e|0)+1,d=(a.position.y/e|0)+1,c=T(b,d);c==Ma||c==ua?(a.c=0,K.e(a.position.x,a.position.y),c==ua?(O.speed=3*m,O.e(a.position.x,a.position.y),Xa(b,d,J)):Xa(b,d,.8>ea()?1:J)):ka(c)&&(a.position.sub(a.direction),a.direction.y*=-1)}},v:wb,f:.1});ia(50,{position:s(),
d:90,w:10,duration:-1,D:"rgba(40,20,10,0)",k:0,q:1,r:s(3,3),g:22,C:12,size:30*m|0,h:15*m|0,t:5*m,speed:4*m,u:1*m,n:140,f:.1});var Pa=ia(250,{j:!1,position:s(),d:0,w:360,duration:-1,o:[230,150,150,.1],s:[20,20,20,.1],k:s(0,.4),q:2.5,r:s(3,3),g:82,C:12,size:8*m|0,h:2*m|0,speed:5*m,u:1*m,m:[250,160,160,1],I:[5,5,5,0],v:wb,f:.1}),Na=ia(100,{j:!1,k:0,position:s(),m:[200,50,50,.8],speed:e,q:3,X:function(a,b){a.moveTo(b.ca.x,b.ca.y);a.lineTo(b.position.x,b.position.y)},J:function(a){if(!(0>a.c)){a.ca=bc(a.position,
a.direction);for(var b=0;6>b&&a.c;b++){var d=a.position.x,c=a.position.y;c>y&&(a.c*=.8,vb(a));Q(va,function(b){var e=b.x-b.Y/2,f=b.y-b.l/2;d>e&&d<e+b.Y&&c>f&&c<f+b.l&&(a.c=0,Pa.e(d,c),b.L--)});var k=(d/e|0)+1,g=(c/e|0)+1,f=T(k,g);if(f==Ma||f==ua)if(K.e(d,c),f==ua)a.c*=.8,O.speed=3*m,O.e(d,c),Xa(k,g,J);else{a.c=0;Xa(k,g,.8>ea()?1:J);continue}else if(ka(f)){a.c=0;Pa.e(d,c);continue}a.position.add(a.direction)}a.c||(a.position.sub(a.direction),a.c=1E-5)}}}),fb=ia(Jb,{j:!0,position:s(c.a.x,-60*e),d:90,
w:180,duration:-1,o:[240,240,250,.1],s:[10,10,10,0],k:s(0,.02),q:25,r:s(.7*g,5*e),g:12,C:12,size:20*m|0,h:10*m|0,t:2*m,D:"rgba(40,40,40,0)",speed:.2*m,u:.1,m:[220,220,230,1],I:[22,22,22,0],v:Ta,J:function(a,b){a.position.x+=z(w*b/50+.001*La)},f:.4}),ga=ia(350,{j:!1,position:s(ja/2,-125*e),d:0,duration:-1,k:0,q:10,n:-1,r:s(ja/2,10*e),size:280*m|0,h:280*m|0,t:30,speed:.2*m,u:.1,v:Ta,f:.3,J:function(a){a.c=1E3;a.position.x+=ja;a.position.x%=ja},X:function(a,b){var d=b.size|0,c=b.position.x|0,e=b.position.y|
0;if(!b.aa){var g=100*b.f|0,g=R(6,29,g),f=ab[g].shift();ab[g].push(f);b.aa=f}a.drawImage(b.aa,c,e,2*d,d)}}),K=ia(250,{j:!1,position:s(),d:-90,w:20,duration:10,o:[40,40,40,0],s:[10,10,10,0],k:s(0,-.25),q:.8,W:.2,r:s(2,2),g:12,C:12,size:45*m|0,h:60*m|0,t:6*m,D:"transparent",speed:1.2*m,u:.1,m:[220,220,220,1],I:[22,22,22,0],v:Ta,f:.8}),O=ia(250,{j:!1,position:s(),d:-90,w:80,duration:.15,o:[40,70,140,.2],s:[10,10,10,0],k:s(0,.5),q:1.2,W:.2,r:s(16,4),g:72,C:12,size:14,h:8,t:1,n:100,speed:2*m,D:"rgba(140,140,255,0)",
u:.5,m:[60,80,120,.9],I:[12,12,12,0],J:function(a){a.position.y>y&&0<a.direction.y&&(a.c=0)},v:Ta,f:.05}),La=0,Tb=.4*Ra,eb=0;M("Almost Ready...",10,function(){B(ga.T,function(){.22>ea()&&(ga.position.y+=2,ga.f*=.98);var a=ga.e();a.h=a.size;a.Z=0});H.font="20px Verdana";H.textAlign="center";H.fillStyle="#fff"});M("Ready!",1,function(){E.getElementById("overlay").style.display="none";Sa(pb)});ob()})();
